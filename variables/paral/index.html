
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="paral input variables">
      
      
      
        <meta name="author" content="The Abinit group">
      
      
        <link rel="canonical" href="https://docs.abinit.org/variables/paral/">
      
      <link rel="icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.6">
    
    
      
        <title>Parallelism - abinit</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2c0c5eaf.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#ff6e42">
        
      
    
    
    

    <!--
    IMPORTANT: Don't use boostrap in particular boostrap.css since it comes into conflict with mkdocs-material theme.
    Prefer low-level tools based on Jquery or JS library such as Tippyjs to get the work done.
    -->

    <!-- Jquery from Google CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Load Jquery UI -->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <!-- Handle jQuery plugin naming conflict between jQuery UI and Bootstrap
    https://stackoverflow.com/questions/13731400/jqueryui-tooltips-are-competing-with-twitter-bootstrap
    <script>
      $.widget.bridge('uibutton', $.ui.button);
      $.widget.bridge('uitooltip', $.ui.tooltip);
    </script>
    -->

    <!-- jQuery Modal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />

    <!-- Tippyjs for popovers https://atomiks.github.io/tippyjs/ -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>

    <!-- font-awesome -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!--Pace support. http://github.hubspot.com/pace/ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/white/pace-theme-big-counter.min.css" />

    <script>
        paceOptions = {
            ajax: true,      // disabled
            document: true,  // activated
            eventLag: false  // disabled
            //target: 'article'
            //elements: {selectors: ['.my-page']}
        };
    </script>

    <!-- MathJax support
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    -->

    <!-- This version is compatible with plotly. -->
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_SVG">
    </script>

    <!-- Configure MathJax to produce automatic equation numbers http://docs.mathjax.org/en/latest/tex.html -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        //jax: ["input/TeX","output/HTML-CSS"],
        //tex2jax: {inlineMath: [['$','$']]},
        //displayAlign: "center",
        TeX: {
            equationNumbers: { autoNumber: "AMS" },
            extensions: ["AMSmath.js", "boldsymbol.js"],
            Macros: {
                "*": "{\\dagger}",
                "ra": "{\\rangle}",
                "la": "{\\langle}",
                // Workaround for bm package. See https://github.com/mathjax/MathJax/issues/1219
                bm: ["{\\boldsymbol #1}",1],
                // Mathcal symbols
                mcL: "{\\mathcal{L}}",
                mcG: "{\\mathcal{G}}",
                mcR: "{\\mathcal{R}}",
                mcS: "{\\mathcal{S}}",
                mcC: "{\\mathcal{C}}",
                mcO: "{\\mathcal{O}}",
                // Acronyms
                KS: "{\\text{KS}}",
                eph: "{\\text{e-ph}}",
                ee: "{\\text{e-e}}",
                phph: "{\\text{ph-ph}}",
                FM: "{\\text{FM}}",
                DW: "{\\text{DW}}",
                QP: "{\\text{QP}}",
                BZ: "{\\text{BZ}}",
                sign: "{\\text{sign}}",
                xc: "{\\text{xc}}",
                tchi: "{\\tilde\\chi}",
                // Symbols commonly used (k-points, eigenvalues ...)
                rr: "{\\bf r}",
                RR: "{\\bf R}",
                tt: "{\\bf t}",
                GG: "{\\bf G}",
                bg: "{\\bf g}",
                kk: "{\\bf k}",
                qq: "{\\bf q}",
                kq: "{\\kk + \\qq}",
                qG: "{\\bf q + G}",
                kG: "{\\bf k + G}",
                kmq: "{\\kk - \\qq}",
                kpq: "{\\kk + \\qq}",
                kpG: "{\\kk + \\GG}",
                qpG: "{\\qq + \\GG}",
                nk: "{n \\kk}",
                mk: "{, \\kk}",
                nks: "{n \\kk\\sigma}",
                mks: "{m \\kk\\sigma}",
                enk: "{\\varepsilon_\\nk}",
                emkq: "{\\varepsilon_{m\\kk+\\qq}}",
                qnu: "{\\qq \\nu}",
                wqnu: "{\\omega_{\\qnu}}",
                vnk: "{\\mathbf{v}_{n\\kk}}",
                vmkq: "{\\mathbf{v}_{m\\kk+\\qq}}",
                vnka: "{\\mathrm{v}_{n\\kk,\\alpha}}",
                vnkb: "{\\mathrm{v}_{n\\kk,\\beta}}",
                ef: "{\\varepsilon_F}",
                // EPH quantities
                gkkp: "{g_{mn\\nu}(\\kk,\\qq)}",
                gkq: "{g_{mn\\nu}(\\kk,\\qq)}",
                //\newcommand{\gkkpL}{g_{mn\nu}^\Lc(\kb,\qb)}
                // Many-body theory
                Go: "{G_0}",
                Wo: "{W_0}",
                Ueff: "{U_{\\text{eff}}}",
                Gove: "{\\overline{G}}",
                Gund: "{\\underline{G}}",
                // Greek symbols + tilde version
                ee: "{\\epsilon}",
                tee: "{\\tilde{\\epsilon}}",
                ww: "{\\omega}",
                tww: "{\\tilde\\omega}",
                dd: "{\\,\\text{d}}",
                vxc: "{v_\\xc}",
                // symrel
                Ri: "{\\mcR^{-1}}",
                Rit: "{\\mcR^{-1\\tau}}",
                // symrec
                Si: "{\\mcS^{-1}}}",
                Sit: "{\\Si^\\tau}}",
                // partial and functional derivative.
                PDER: ["{\\dfrac{\\partial #1}{\\partial #2}}", 2],
                FDER: ["{\\dfrac{\\delta #1}{\\delta #2}}", 2],
                // PAW
                tPsi: "{\\tilde\\Psi}",
                tpsi: "{\\tilde\\psi}",
                tPhi: "{\\tilde\\Phi}",
                tphi: "{\\tilde\\phi}",
                tprj: "{\\tilde p}"
            }
          }
      });
    </script>

    

    

    <!-- Load fonts used for input variables -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">

    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="../../css/gallery.css">
    
      <link rel="stylesheet" href="../../css/my_codehilite.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-116681470-1","docs.abinit.org"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#paral-input-variables" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="abinit" class="md-header__button md-logo" aria-label="abinit" data-md-component="logo">
      
  <img src="../../images/logo-abinit-2015.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            abinit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Parallelism
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/abinit/abinit/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    github-abinit
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        User Guides
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../topics/features/" class="md-tabs__link">
        Topics
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Variables
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tutorial/" class="md-tabs__link">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../faq/configuration_and_compilation/" class="md-tabs__link">
        FAQ
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../theory/geometry/" class="md-tabs__link">
        Theory
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../developers/git_and_gitlab/" class="md-tabs__link">
        Developers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../about/release-notes/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="abinit" class="md-nav__button md-logo" aria-label="abinit" data-md-component="logo">
      
  <img src="../../images/logo-abinit-2015.png" alt="logo">

    </a>
    abinit
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/abinit/abinit/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    github-abinit
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        User Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="User Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          User Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        NewUser
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/abinit/" class="md-nav__link">
        Abinit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/abitk/" class="md-nav__link">
        Abitk
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/aim/" class="md-nav__link">
        Aim
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/anaddb/" class="md-nav__link">
        Anaddb
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/atdep/" class="md-nav__link">
        aTDEP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/cut3d/" class="md-nav__link">
        Cut3d
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/fold2bloch/" class="md-nav__link">
        Fold2Bloch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/mrgddb/" class="md-nav__link">
        Mrgddb
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/mrgscr/" class="md-nav__link">
        Mrgscr
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/multibinit/" class="md-nav__link">
        Multibinit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/optic/" class="md-nav__link">
        Optic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/respfn/" class="md-nav__link">
        Respfn
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/spacegroup/" class="md-nav__link">
        Spacegroup
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_15" type="checkbox" id="__nav_1_15" >
      
      <label class="md-nav__link" for="__nav_1_15">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_15">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        HowTo
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../INSTALL_MacOS/" class="md-nav__link">
        MacOS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../INSTALL_Ubuntu/" class="md-nav__link">
        Ubuntu
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../INSTALL_CentOS/" class="md-nav__link">
        CentOS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../INSTALL_EasyBuild/" class="md-nav__link">
        EasyBuild
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../INSTALL_gpu/" class="md-nav__link">
        GPUs
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Topics
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/features/" class="md-nav__link">
        Features
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/" class="md-nav__link">
        Topic List
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Abipy/" class="md-nav__link">
        Abipy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/APPA/" class="md-nav__link">
        APPA
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Artificial/" class="md-nav__link">
        Artificial
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/aTDEP/" class="md-nav__link">
        aTDEP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/AtomCentered/" class="md-nav__link">
        AtomCentered
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/AtomManipulator/" class="md-nav__link">
        AtomManipulator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/AtomTypes/" class="md-nav__link">
        AtomTypes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Bader/" class="md-nav__link">
        Bader
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Band2eps/" class="md-nav__link">
        Band2eps
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Berry/" class="md-nav__link">
        Berry
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/BandOcc/" class="md-nav__link">
        BandOcc
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/BSE/" class="md-nav__link">
        BSE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/BoundingProcess/" class="md-nav__link">
        BoundingProcess
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/ConstrainedDFT/" class="md-nav__link">
        ConstrainedDFT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/ConstrainedPol/" class="md-nav__link">
        ConstrainedPol
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Control/" class="md-nav__link">
        Control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Coulomb/" class="md-nav__link">
        Coulomb
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/CrossingBarriers/" class="md-nav__link">
        CrossingBarriers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/CalcUJ/" class="md-nav__link">
        CalcUJ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/crystal/" class="md-nav__link">
        Crystal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/DFT%2BU/" class="md-nav__link">
        DFT+U
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/DeltaSCF/" class="md-nav__link">
        DeltaSCF
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/DensityPotential/" class="md-nav__link">
        DensityPotential
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Dev/" class="md-nav__link">
        Dev
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/DFPT/" class="md-nav__link">
        DFPT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/DMFT/" class="md-nav__link">
        DMFT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/DynamicsMultibinit/" class="md-nav__link">
        DynamicsMultibinit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/EffectiveMass/" class="md-nav__link">
        EffectiveMass
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/EFG/" class="md-nav__link">
        EFG
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Elastic/" class="md-nav__link">
        Elastic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/ElPhonInt/" class="md-nav__link">
        ElPhonInt
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/ElPhonTransport/" class="md-nav__link">
        ElPhonTransport
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/ElecDOS/" class="md-nav__link">
        ElecDOS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/ElecBandStructure/" class="md-nav__link">
        ElecBandStructure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/ExtFPMD/" class="md-nav__link">
        ExtFPMD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/FileFormats/" class="md-nav__link">
        FileFormats
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/FitProcess/" class="md-nav__link">
        FitProcess
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/ForcesStresses/" class="md-nav__link">
        ForcesStresses
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/FrequencyMeshMBPT/" class="md-nav__link">
        FrequencyMeshMBPT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/GeoConstraints/" class="md-nav__link">
        GeoConstraints
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/GeoOpt/" class="md-nav__link">
        GeoOpt
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Git/" class="md-nav__link">
        Git
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/GSintroduction/" class="md-nav__link">
        GSintroduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/GW/" class="md-nav__link">
        GW
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/GWR/" class="md-nav__link">
        GWR
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/GWls/" class="md-nav__link">
        GWls
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Hybrids/" class="md-nav__link">
        Hybrids
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Install/" class="md-nav__link">
        Install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/k-points/" class="md-nav__link">
        K points
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/LatticeModel/" class="md-nav__link">
        LatticeModel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/LatticeWannier/" class="md-nav__link">
        LatticeWannier
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/LWFModel/" class="md-nav__link">
        LWFModel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/LDAminushalf/" class="md-nav__link">
        LDAminushalf
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/LOTF/" class="md-nav__link">
        LOTF
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/longwave/" class="md-nav__link">
        Longwave
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Macroave/" class="md-nav__link">
        Macroave
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/MagField/" class="md-nav__link">
        MagField
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/MagMom/" class="md-nav__link">
        MagMom
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/MolecularDynamics/" class="md-nav__link">
        MolecularDynamics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/multidtset/" class="md-nav__link">
        Multidtset
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/NMR/" class="md-nav__link">
        NMR
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/nonlinear/" class="md-nav__link">
        Nonlinear
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Optic/" class="md-nav__link">
        Optic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Output/" class="md-nav__link">
        Output
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/parallelism/" class="md-nav__link">
        Parallelism
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/PAW/" class="md-nav__link">
        PAW
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/PIMD/" class="md-nav__link">
        PIMD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Planewaves/" class="md-nav__link">
        Planewaves
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Phonons/" class="md-nav__link">
        Phonons
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/PhononBands/" class="md-nav__link">
        PhononBands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/PhononWidth/" class="md-nav__link">
        PhononWidth
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/PortabilityNonRegression/" class="md-nav__link">
        PortabilityNonRegression
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/positron/" class="md-nav__link">
        Positron
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/printing/" class="md-nav__link">
        Printing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/PseudosPAW/" class="md-nav__link">
        PseudosPAW
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/q-points/" class="md-nav__link">
        Q points
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/RandStopPow/" class="md-nav__link">
        RandStopPow
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Recursion/" class="md-nav__link">
        Recursion
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/RPACorrEn/" class="md-nav__link">
        RPACorrEn
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/SCFControl/" class="md-nav__link">
        SCFControl
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/SCFAlgorithms/" class="md-nav__link">
        SCFAlgorithms
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/SelfEnergy/" class="md-nav__link">
        SelfEnergy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/SmartSymm/" class="md-nav__link">
        SmartSymm
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/spinpolarisation/" class="md-nav__link">
        Spinpolarisation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/SpinDynamicsMultibinit/" class="md-nav__link">
        SpinDynamicsMultibinit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/STM/" class="md-nav__link">
        STM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Susceptibility/" class="md-nav__link">
        Susceptibility
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/TDDFT/" class="md-nav__link">
        TDDFT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/TDepES/" class="md-nav__link">
        TDepES
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Temperature/" class="md-nav__link">
        Temperature
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/TransPath/" class="md-nav__link">
        TransPath
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/TuningSpeedMem/" class="md-nav__link">
        TuningSpeedMem
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Unfolding/" class="md-nav__link">
        Unfolding
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/UnitCell/" class="md-nav__link">
        UnitCell
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/vdw/" class="md-nav__link">
        Vdw
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Verification/" class="md-nav__link">
        Verification
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Wannier/" class="md-nav__link">
        Wannier
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Wavelets/" class="md-nav__link">
        Wavelets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/xc/" class="md-nav__link">
        Xc
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/external_resources/" class="md-nav__link">
        External Resources
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Variables
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Variables" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Variables
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        All Variables
      </a>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      <label class="md-nav__link" for="__nav_3_2">
        Abinit
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Abinit" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Abinit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../basic/" class="md-nav__link">
        Basic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bse/" class="md-nav__link">
        Bethe-Salpeter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../dev/" class="md-nav__link">
        Developers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../dmft/" class="md-nav__link">
        DMFT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../eph/" class="md-nav__link">
        Electron-Phonon
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ffield/" class="md-nav__link">
        Varff
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../files/" class="md-nav__link">
        File-handling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../geo/" class="md-nav__link">
        Geometry
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gstate/" class="md-nav__link">
        Ground-State
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gw/" class="md-nav__link">
        GW
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../internal/" class="md-nav__link">
        Internal
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Parallelism
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Parallelism
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#autoparal" class="md-nav__link">
    autoparal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bandpp" class="md-nav__link">
    bandpp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_devices" class="md-nav__link">
    gpu_devices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_kokkos_nthrd" class="md-nav__link">
    gpu_kokkos_nthrd
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_linalg_limit" class="md-nav__link">
    gpu_linalg_limit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_nl_distrib" class="md-nav__link">
    gpu_nl_distrib
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_nl_splitsize" class="md-nav__link">
    gpu_nl_splitsize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_option" class="md-nav__link">
    gpu_option
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gwpara" class="md-nav__link">
    gwpara
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#localrdwf" class="md-nav__link">
    localrdwf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#max_ncpus" class="md-nav__link">
    max_ncpus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#np_slk" class="md-nav__link">
    np_slk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#np_spkpt" class="md-nav__link">
    np_spkpt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npband" class="md-nav__link">
    npband
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npfft" class="md-nav__link">
    npfft
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nphf" class="md-nav__link">
    nphf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npimage" class="md-nav__link">
    npimage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npkpt" class="md-nav__link">
    npkpt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nppert" class="md-nav__link">
    nppert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npspinor" class="md-nav__link">
    npspinor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_atom" class="md-nav__link">
    paral_atom
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_kgb" class="md-nav__link">
    paral_kgb
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_rf" class="md-nav__link">
    paral_rf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pw_unbal_thresh" class="md-nav__link">
    pw_unbal_thresh
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_slk" class="md-nav__link">
    use_slk
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../paw/" class="md-nav__link">
        PAW
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../dfpt/" class="md-nav__link">
        DFPT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../rlx/" class="md-nav__link">
        Relaxation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../vdw/" class="md-nav__link">
        VdW
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../w90/" class="md-nav__link">
        Wannier90
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../anaddb/" class="md-nav__link">
        Anaddb
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../atdep/" class="md-nav__link">
        aTDEP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../multibinit/" class="md-nav__link">
        Multibinit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../optic/" class="md-nav__link">
        Optic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../aim/" class="md-nav__link">
        Aim
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../external_parameters/" class="md-nav__link">
        External Parameters
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../varset_stats/" class="md-nav__link">
        Statistics
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      <label class="md-nav__link" for="__nav_4_2">
        Basic tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Basic tutorials" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Basic tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/base1/" class="md-nav__link">
        basic1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/base2/" class="md-nav__link">
        basic2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/base3/" class="md-nav__link">
        basic3
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/base4/" class="md-nav__link">
        basic4
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/abinit_build/" class="md-nav__link">
        ABINIT_build
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paw1/" class="md-nav__link">
        PAW1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/spin/" class="md-nav__link">
        Spin
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/polarization/" class="md-nav__link">
        Polarization & finite field
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/rf1/" class="md-nav__link">
        DFPT1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/rf2/" class="md-nav__link">
        DFPT2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/basepar/" class="md-nav__link">
        Parallelism
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_10" type="checkbox" id="__nav_4_10" >
      
      <label class="md-nav__link" for="__nav_4_10">
        ABINIT postprocessors
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="ABINIT postprocessors" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_10">
          <span class="md-nav__icon md-icon"></span>
          ABINIT postprocessors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/atdep1/" class="md-nav__link">
        aTDEP1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/cut3d/" class="md-nav__link">
        cut3D
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/fold2bloch/" class="md-nav__link">
        fold2bloch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/optic/" class="md-nav__link">
        optic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/wannier90/" class="md-nav__link">
        wannier90
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/z2pack/" class="md-nav__link">
        Z2pack
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_11" type="checkbox" id="__nav_4_11" >
      
      <label class="md-nav__link" for="__nav_4_11">
        DFT beyond basics
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="DFT beyond basics" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_11">
          <span class="md-nav__icon md-icon"></span>
          DFT beyond basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/nuc/" class="md-nav__link">
        properties at the nucleus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/dftu/" class="md-nav__link">
        DFT+U
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/ucalc_crpa/" class="md-nav__link">
        cRPA U(J)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/lruj/" class="md-nav__link">
        Linear Response U(J)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paw2/" class="md-nav__link">
        PAW2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paw3/" class="md-nav__link">
        PAW3
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/positron/" class="md-nav__link">
        positron
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_12" type="checkbox" id="__nav_4_12" >
      
      <label class="md-nav__link" for="__nav_4_12">
        Many-Body Theory & excitations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Many-Body Theory & excitations" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_12">
          <span class="md-nav__icon md-icon"></span>
          Many-Body Theory & excitations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/gw1/" class="md-nav__link">
        GW1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/gw2/" class="md-nav__link">
        GW2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/gwr_intro/" class="md-nav__link">
        GWR_intro
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/gwr1/" class="md-nav__link">
        GWR1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/bse/" class="md-nav__link">
        Bethe-Salpeter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/dmft/" class="md-nav__link">
        DMFT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/tddft/" class="md-nav__link">
        TDDFT (Casida)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_13" type="checkbox" id="__nav_4_13" >
      
      <label class="md-nav__link" for="__nav_4_13">
        DFPT & electron-phonon
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="DFPT & electron-phonon" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_13">
          <span class="md-nav__icon md-icon"></span>
          DFPT & electron-phonon
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/elastic/" class="md-nav__link">
        elastic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/nlo/" class="md-nav__link">
        nonlinear
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/lattice_wannier/" class="md-nav__link">
        lattice_wannier
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/lw_quad/" class="md-nav__link">
        quadrupoles
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/eph_intro/" class="md-nav__link">
        eph_intro
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/eph4mob/" class="md-nav__link">
        eph for mobilities
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/eph4zpr/" class="md-nav__link">
        eph for zero-point renormalization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/eph_legacy/" class="md-nav__link">
        eph_legacy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/eph_tdep_legacy/" class="md-nav__link">
        eph_tdep_legacy
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_14" type="checkbox" id="__nav_4_14" >
      
      <label class="md-nav__link" for="__nav_4_14">
        Multibinit
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Multibinit" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_14">
          <span class="md-nav__icon md-icon"></span>
          Multibinit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/multibinit/" class="md-nav__link">
        introduction to multibinit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/lattice_model/" class="md-nav__link">
        lattice_model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/spin_model/" class="md-nav__link">
        spin_model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/lwf_model/" class="md-nav__link">
        lwf_model
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_15" type="checkbox" id="__nav_4_15" >
      
      <label class="md-nav__link" for="__nav_4_15">
        Advanced parallelism
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Advanced parallelism" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_15">
          <span class="md-nav__icon md-icon"></span>
          Advanced parallelism
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paral_bandpw/" class="md-nav__link">
        paral_band_PW
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paral_gswvl/" class="md-nav__link">
        paral_wavelets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paral_moldyn/" class="md-nav__link">
        paral_MD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paral_images/" class="md-nav__link">
        paral_images
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paral_dfpt/" class="md-nav__link">
        paral_DFPT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/paral_mbt/" class="md-nav__link">
        paral_MBPT
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        FAQ
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="FAQ" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          FAQ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/configuration_and_compilation/" class="md-nav__link">
        Configuration and compilation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/general_questions/" class="md-nav__link">
        General questions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/pre_and_post_processing/" class="md-nav__link">
        Pre/Post processing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/ground_state/" class="md-nav__link">
        Ground state
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/dfpt/" class="md-nav__link">
        DFPT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/Troubleshooting/" class="md-nav__link">
        Troubleshooting (old-dokuwiki)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/tuning_abinit/" class="md-nav__link">
        Tuning (old-dokuwiki)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Theory
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Theory" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Theory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/geometry/" class="md-nav__link">
        Geometry
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/spherical_harmonics/" class="md-nav__link">
        Spherical Harmonics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/wavefunctions/" class="md-nav__link">
        Wavefunctions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/noncollinear/" class="md-nav__link">
        Noncollinear
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/pseudopotentials/" class="md-nav__link">
        Pseudopotentials
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/mbt/" class="md-nav__link">
        Many-Body Perturbation Theory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/bse/" class="md-nav__link">
        Bethe-Salpeter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/documents/" class="md-nav__link">
        Documents
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/acknowledgments/" class="md-nav__link">
        Acknowledgments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/bibliography/" class="md-nav__link">
        Bibliography
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/acronyms/" class="md-nav__link">
        Acronyms
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Developers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/git_and_gitlab/" class="md-nav__link">
        Git and Gitlab
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/developers_howto/" class="md-nav__link">
        HowTo for developers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/abimkdocs/" class="md-nav__link">
        Abimkdocs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/markdown/" class="md-nav__link">
        Markdown
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5" type="checkbox" id="__nav_7_5" >
      
      <label class="md-nav__link" for="__nav_7_5">
        Test Suite
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Test Suite" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_5">
          <span class="md-nav__icon md-icon"></span>
          Test Suite
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/testsuite/" class="md-nav__link">
        Test list
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/testsuite_howto/" class="md-nav__link">
        Test Suite Howto
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/new_testsuite/" class="md-nav__link">
        YAML-based test suite Howto
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/yaml_tools_api/" class="md-nav__link">
        YAML-based test suite Python tools and API
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/XgType/" class="md-nav__link">
        XgType
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_7" type="checkbox" id="__nav_7_7" >
      
      <label class="md-nav__link" for="__nav_7_7">
        Pseudos
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Pseudos" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_7">
          <span class="md-nav__icon md-icon"></span>
          Pseudos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/psp1_info/" class="md-nav__link">
        psp1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/psp3_info/" class="md-nav__link">
        psp3
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/psp45_info/" class="md-nav__link">
        psp45
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/psp5spinorbit_info/" class="md-nav__link">
        psp5
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/psp6_info/" class="md-nav__link">
        psp6
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/psp8_info/" class="md-nav__link">
        psp8
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/codestats/" class="md-nav__link">
        Code stats
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/autoconf_examples/" class="md-nav__link">
        Autoconf_examples
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/testlink/" class="md-nav__link">
        Test Page for linkcheck
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/release-notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/history/" class="md-nav__link">
        History
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/license/" class="md-nav__link">
        License
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#autoparal" class="md-nav__link">
    autoparal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bandpp" class="md-nav__link">
    bandpp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_devices" class="md-nav__link">
    gpu_devices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_kokkos_nthrd" class="md-nav__link">
    gpu_kokkos_nthrd
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_linalg_limit" class="md-nav__link">
    gpu_linalg_limit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_nl_distrib" class="md-nav__link">
    gpu_nl_distrib
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_nl_splitsize" class="md-nav__link">
    gpu_nl_splitsize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_option" class="md-nav__link">
    gpu_option
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gwpara" class="md-nav__link">
    gwpara
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#localrdwf" class="md-nav__link">
    localrdwf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#max_ncpus" class="md-nav__link">
    max_ncpus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#np_slk" class="md-nav__link">
    np_slk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#np_spkpt" class="md-nav__link">
    np_spkpt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npband" class="md-nav__link">
    npband
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npfft" class="md-nav__link">
    npfft
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nphf" class="md-nav__link">
    nphf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npimage" class="md-nav__link">
    npimage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npkpt" class="md-nav__link">
    npkpt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nppert" class="md-nav__link">
    nppert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npspinor" class="md-nav__link">
    npspinor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_atom" class="md-nav__link">
    paral_atom
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_kgb" class="md-nav__link">
    paral_kgb
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_rf" class="md-nav__link">
    paral_rf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pw_unbal_thresh" class="md-nav__link">
    pw_unbal_thresh
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_slk" class="md-nav__link">
    use_slk
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              

                
                  <a href="https://github.com/abinit/abinit/edit/master/doc/variables/paral.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <!--
This file is automatically generated by mksite.py. All changes will be lost.
Change the input yaml files or the python code
-->
<h1 id="paral-input-variables">paral input variables<a class="headerlink" href="#paral-input-variables" title="Permanent link">&para;</a></h1>
<p>This document lists and provides the description of the name (keywords) of the
paral input variables to be used in the input file for the abinit executable.</p>
<h2 id="autoparal"><strong>autoparal</strong><a class="headerlink" href="#autoparal" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> AUTOmatisation of the PARALlelism<br />
<em>Characteristics:</em> <a class="wikilink" href="/guide/abinit#parameters">DEVELOP</a><br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [23/1245] in all abinit tests, [6/159] in abinit tutorials</summary><ul>
<li>hpc_gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t03.abi" target="_blank">t03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t05.abi" target="_blank">t05.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t07.abi" target="_blank">t07.abi</a> &hellip;</li>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
This test check the parallelization over atomic sites both for the ground state
and response function features (within PAW formalism), together with
parallelization over perturbations.
Computation of phonons and response to electric field within PAW (both q=0 and q/=0)
Test on AlAs structure inspired by v6/t62.
Ground state, DDK, effective charges and dielectric tensor are computed.
Phonon modes at q=0 are computed.
Phonon modes at q=(1/4,0,0) and q=(-1/4,1/2/1/4) are computed.
Note: Charge neutrality is not achieved with the present dataset,
but can be easily reached by increasing some parameters; for instance:
(ngkpt 8 8 8, ecut 15., pawecutdg 30.) gives Z(Al)=2.1184310, Z(As)=-2.1184804" data-toggle="popover" href="/tests/mpiio/Input/t62.abi" target="_blank">t62.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
This test check the parallelization over atomic sites both for the ground state
and response function features (within PAW formalism), together with
parallelization over perturbations.
Computation of phonons and response to electric field within PAW (both q=0 and q/=0)
Test on AlAs structure inspired by v6/t62.
Ground state, DDK, effective charges and dielectric tensor are computed.
Phonon modes at q=0 are computed.
Phonon modes at q=(1/4,0,0) and q=(-1/4,1/2/1/4) are computed.
Note: Charge neutrality is not achieved with the present dataset,
but can be easily reached by increasing some parameters; for instance:
(ngkpt 8 8 8, ecut 15., pawecutdg 30.) gives Z(Al)=2.1184310, Z(As)=-2.1184804" data-toggle="popover" href="/tests/mpiio/Input/t62.abi" target="_blank">t62.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="GaAs linear response with NC. Test the parallelisation on perturbations" data-toggle="popover" href="/tests/mpiio/Input/t69.abi" target="_blank">t69.abi</a> &hellip;</li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a> &hellip;</li>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-tippy-content="BaTiO3 linear response calculation" data-toggle="popover" href="/tests/tutoparal/Input/tdfpt_03.abi" target="_blank">tdfpt_03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Gold with one vacancy (107 atoms of gold)." data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_01.abi" target="_blank">tparal_bandpw_01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NaI with a sligthly expanded lattice, to allow self-localisation of a hole polaron, using pSIC technique.
Realistic ecut and reasonable k point sampling, but small cell of only 8 atoms for testing.
The present test at the fixed, symmetric geometry, for reference. Of course, the cell is not primitive.

Parallelism until 12 procs is quite efficient. However, setting npband 2 does not bring noticeable improvement.
Although this is still subject for further investigation, the hypothesis is that the density/xc/potential part
is not improved with npband 2, while it is actually a major contribution, even with 32 bands.
Timing analysis is to be performed." data-toggle="popover" href="/tests/tutoparal/Input/tpsic_01.abi" target="_blank">tpsic_01.abi</a> &hellip;</li>
<li>tutoplugs:  <a class="wikilink abifile-wikilink" data-tippy-content="Test interface with Z2Pack (NC pseudopotentials)" data-toggle="popover" href="/tests/tutoplugs/Input/tz2_2.abi" target="_blank">tz2_2.abi</a> &hellip;</li>
<li>v67mbpt:  <a class="wikilink abifile-wikilink" data-tippy-content="
Diamond: GW band gap with vertex corrections in W; Gygi-Baldereschi aux function" data-toggle="popover" href="/tests/v67mbpt/Input/t36.abi" target="_blank">t36.abi</a> &hellip;</li>
<li>wannier90:  <a class="wikilink abifile-wikilink" data-tippy-content="
Wannier function for bcc Fe.
To check whether wannier90 interface works properly with nsppol=2 and nspden=2.
Small accuracy parameters, small k-mesh and large test tolerance are used." data-toggle="popover" href="/tests/wannier90/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Wannier function for bcc Fe.
To check whether wannier90 interface works properly with nspinor=2  and nspden=4
Small accuracy parameters, small k-mesh and large test tolerance are used." data-toggle="popover" href="/tests/wannier90/Input/t05.abi" target="_blank">t05.abi</a> &hellip;</li>
</ul>
</details>
<p>This input variable controls the automatic determination of input parameters related to parallel work
distribution if not specified in input file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that this variable is only used when running <strong>ground-state calculations</strong> in parallel with MPI (<a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a>=1).
Other <a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a> runlevels implement different MPI algorithms that rely on other input variables that are
not automatically set by  <strong>autoparal</strong> . For example, consult the <a class="wikilink lesson-wikilink" href="/tutorial/paral_mbt">tutorial on parallelism for Many-Body Perturbation Theory</a> to learn how
to run beyond-GS calculations with MPI. Other tutorials on parallelism are also available.</p>
</div>
<p>Given a total number of processors, ABINIT can find a suitable distribution that fill (when possible)
all the different levels of parallelization. ABINIT can also determine optimal
parameters for the use of parallel Linear Algebra routines (using Scalapack or Cuda, at present).
The different values are:</p>
<ul>
<li>
<p>0 &rarr; The <em>autoparal</em> feature is deactivated. For ground-state and response function calculations,
    ABINIT can only activate automatically the parallelism over spins and k-points.</p>
</li>
<li>
<p>1 &rarr; The number of processors per parallelization level is determined by mean of a simple
    (but relatively efficient) heuristic method. A scaling factor is attributed to each level and an simple
    speedup factor is computed. The selected parameters are those giving the best speedup factor.
    Possibly concerned parameters: <a class="wikilink codevar-wikilink" href="/variables/paral#npimage">npimage</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#bandpp">bandpp</a>.</p>
</li>
<li>
<p>2 &rarr; The number of processors per parallelization level is first determined by mean of a simple
    (but relatively efficient) heuristic method (see 1 above). Then the code performs a series of
    small benchmarks using the scheme applied for the LOBPCG algorithm (see <a class="wikilink codevar-wikilink" href="/variables/dev#wfoptalg">wfoptalg</a> = 4 or 14).
    The parallel distribution is then changed according to the benchmarks.
    Possibly concerned parameters: <a class="wikilink codevar-wikilink" href="/variables/paral#npimage">npimage</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#bandpp">bandpp</a>.</p>
</li>
<li>
<p>3 &rarr; Same as <em>autoparal</em> = 1, plus automatic determination of Linear Algebra routines parameters.
    In addition, the code performs a series of small benchmarks using the Linear
    Algebra routines (ScaLapack or Cuda-GPU). The parameters used to optimize
    Linear Algebra work distribution are then changed according to the benchmarks.
    Possibly concerned parameters (in addition to those modified for
    <em>autoparal</em> = 1): <a class="wikilink codevar-wikilink" href="/variables/paral#use_slk">use_slk</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#np_slk">np_slk</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_linalg_limit">gpu_linalg_limit</a></p>
</li>
<li>
<p>4 &rarr; combination of <em>autoparal</em> 2 and 3.</p>
</li>
</ul>
<p>Note that <em>autoparal</em> = 1 can be used on every set of processors;
<em>autoparal</em> &gt; 1 should be used on a sufficiently large number of MPI process.
Also note that <em>autoparal</em> can be used simultaneously with <a class="wikilink codevar-wikilink" href="/variables/paral#max_ncpus">max_ncpus</a>.
In this case, ABINIT performs an optimization of process distribution for each
total number of processors from 2 to <a class="wikilink codevar-wikilink" href="/variables/paral#max_ncpus">max_ncpus</a>. A weight is associated to
each distribution and the higher this weight is the better the distribution is.
After having printed out the weights, the code stops.</p>
<h2 id="bandpp"><strong>bandpp</strong><a class="headerlink" href="#bandpp" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> BAND Per Processor<br />
<em>Characteristics:</em> <a class="wikilink" href="/guide/abinit#parameters">DEVELOP</a><br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> == 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [59/1245] in all abinit tests, [10/159] in abinit tutorials</summary><ul>
<li>gpu:  <a class="wikilink abifile-wikilink" data-tippy-content="
Silicon - diamond structure - PAW - volume relaxation
Test the use of GPU within Projector Augmented-Wave formalism.
Test structure relaxation (multiple calls to gstate routine)." data-toggle="popover" href="/tests/gpu/Input/t04.abi" target="_blank">t04.abi</a> &hellip;</li>
<li>gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="
Silicon - diamond structure - PAW - volume relaxation
Test the use of GPU within Projector Augmented-Wave formalism.
Test structure relaxation (multiple calls to gstate routine)." data-toggle="popover" href="/tests/gpu_omp/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu_omp/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu_omp/Input/t02.abi" target="_blank">t02.abi</a> &hellip;</li>
<li>hpc_gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="Uranim oxide (UO2) - 54 atoms (GGA) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t03.abi" target="_blank">t03.abi</a> &hellip;</li>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si, Bulk, 2 atoms , paral_kgb.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/mpiio/Input/t21.abi" target="_blank">t21.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/mpiio/Input/t22.abi" target="_blank">t22.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over FFT and kpoints:
npband*npfft*np_spkpt=1*2*2=4 processors.
In test tY.in we check other distributions for guarantee." data-toggle="popover" href="/tests/mpiio/Input/t24.abi" target="_blank">t24.abi</a> &hellip;</li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si, Bulk, 2 atoms , paral_kgb.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/paral/Input/t21.abi" target="_blank">t21.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/paral/Input/t22.abi" target="_blank">t22.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over FFT and kpoints:
npband*npfft*np_spkpt=1*2*2=4 processors.
In test tY.in we check other distributions for guarantee." data-toggle="popover" href="/tests/paral/Input/t24.abi" target="_blank">t24.abi</a> &hellip;</li>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_03.abi" target="_blank">tparal_bandpw_03.abi</a>, <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_04.abi" target="_blank">tparal_bandpw_04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Hydronium ion + NH3 molecule
Ground state calculation
keeping O and H atoms fixed" data-toggle="popover" href="/tests/tutoparal/Input/timages_01.abi" target="_blank">timages_01.abi</a> &hellip;</li>
<li>v4:  <a class="wikilink abifile-wikilink" data-tippy-content="
Test of Ca, simple cubic , 2  k-point. Testing GS  energy and lobpcg algorithm." data-toggle="popover" href="/tests/v4/Input/t93.abi" target="_blank">t93.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test of Ca, simple cubic , 2  k-point.
Testing GS  PAW  energy and lobpcg algorithm." data-toggle="popover" href="/tests/v4/Input/t94.abi" target="_blank">t94.abi</a> &hellip;</li>
<li>v5:  <a class="wikilink abifile-wikilink" data-tippy-content="
Simple test for double grid (fine/coarse) system, the cutting
radius and the initial fermi energy in recursion method
Corresponding variables: recgratio, recrcut,recefermi respectively
Corresponding code: 68_recursion
Other test: paral/tT,v5/t76" data-toggle="popover" href="/tests/v5/Input/t75.abi" target="_blank">t75.abi</a> &hellip;</li>
<li>v9:  <a class="wikilink abifile-wikilink" data-tippy-content="
Test various values of nbdbuf with lobpcg (114)." data-toggle="popover" href="/tests/v9/Input/t201.abi" target="_blank">t201.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test tolwfr_diago with lobpcg (114)." data-toggle="popover" href="/tests/v9/Input/t202.abi" target="_blank">t202.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Simple input (from fast/t03) to test nblock_lobpcg variable" data-toggle="popover" href="/tests/v9/Input/t205.abi" target="_blank">t205.abi</a> &hellip;</li>
</ul>
</details>
<p>Affect the size of a block in the LOBPCG algorithm.
One should use <a class="wikilink codevar-wikilink" href="/variables/gstate#nblock_lobpcg">nblock_lobpcg</a> instead, which sets <strong>bandpp</strong> depending on <a class="wikilink codevar-wikilink" href="/variables/basic#nband">nband</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This keyword works only with <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> = 1 and has to be either 1 or a multiple of 2.
Moreover <a class="wikilink codevar-wikilink" href="/variables/basic#nband">nband</a> / (<a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>  <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span>  <strong>bandpp</strong> ) has to be integer.</p>
</div>
<p>With <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> = 1:</p>
<ul>
<li><strong>bandpp</strong> =1 &rarr; band-per-band algorithm</li>
<li><strong>bandpp</strong> /=1 &rarr; The minimization is performed using <a class="wikilink codevar-wikilink" href="/variables/basic#nband">nband</a>/ <strong>bandpp</strong>  blocks of  <strong>bandpp</strong>  bands.</li>
</ul>
<p>With <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> &gt; 1:</p>
<ul>
<li><strong>bandpp</strong> =1 &rarr; The minimization is performed using <a class="wikilink codevar-wikilink" href="/variables/basic#nband">nband</a> / <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> blocks of <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> bands.</li>
<li><strong>bandpp</strong> /=1 &rarr; The minimization is performed using <a class="wikilink codevar-wikilink" href="/variables/basic#nband">nband</a> / (<a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span>  <strong>bandpp</strong> ) blocks of <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>  <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span>  <strong>bandpp</strong>   bands.</li>
</ul>
<p>By minimizing a larger number of bands together in LOBPCG, we increase the
convergence of the residuals. The better minimization procedure (as concerns
the convergence, but not as concerns the speed) is generally performed by
using  <strong>bandpp</strong>  <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> = <a class="wikilink codevar-wikilink" href="/variables/basic#nband">nband</a>.</p>
<p>When performing Gamma-only calculations (<a class="wikilink codevar-wikilink" href="/variables/dev#istwfk">istwfk</a> = 2), it is recommended to set  <strong>bandpp</strong>  = 2
(or a multiple of 2) as the time spent in FFTs is divided by two.
Also, the time required to apply the non-local part of the KS Hamiltonian can be significantly
reduced if  <strong>bandpp</strong>  &gt; 1 is used in conjunction with <a class="wikilink codevar-wikilink" href="/variables/dev#use_gemm_nonlop">use_gemm_nonlop</a> = 1.</p>
<p>Note that increasing the value of  <strong>bandpp</strong>  can have a significant impact (reduction) on the computing time
(especially if <a class="wikilink codevar-wikilink" href="/variables/dev#use_gemm_nonlop">use_gemm_nonlop</a> is used)
but keep in mind that the size of the workspace arrays will also increase so the calculation may go out-of-memory
if a too large  <strong>bandpp</strong>  is used in systems if many atoms.</p>
<h2 id="gpu_devices"><strong>gpu_devices</strong><a class="headerlink" href="#gpu_devices" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GPU: choice of DEVICES on one node<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> (12)<br />
<em>Default value:</em> -12<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_option">gpu_option</a> &gt; 0 and <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#cuda" title="True if ABINIT has been compiled using Nvidia CUDA (compilation for Nvidia GPU)">CUDA</a> (Nvidia GPU)<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [3/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>gpu:  <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu/Input/t05.abi" target="_blank">t05.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu/Input/t05.abi" target="_blank">t05.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu/Input/t05.abi" target="_blank">t05.abi</a></li>
</ul>
</details>
<p>@legacy
This variable is intended to be used when several GPU devices are present on each node, assuming the
same number of devices on all nodes.
Allows to choose in which order the GPU devices are chosen and distributed
among MPI processes (see examples below). When the default value (-1) is set,
the GPU devices are chosen by order of performance (FLOPS, memory).</p>
<p>Examples:</p>
<ul>
<li>
<p>2 GPU devices per node, 4 MPI processes per node, <strong>gpu_device</strong> = *-1 (default):
MPI processes 0 and 2 use the best GPU card, MPI processes 1 and 3 use the
slowest GPU card.</p>
</li>
<li>
<p>3 GPU devices per node, 5 MPI processes per node, <strong>gpu_device</strong> =[1,0,2,-1,-1, . . .]:
MPI processes 0 and 3 use GPU card 1, MPI processes 1 and 4 use GPU card 0,
MPI process 2 uses GPU card 2.</p>
</li>
<li>
<p>3 GPU devices per node, 5 MPI processes per node, <strong>gpu_device</strong> =[0,1,-1,-1, . . .]:
MPI processes 0, 2 and 4 use GPU card 0, MPI processes 1 and 3 use GPU card 1;
the 3<sup>rd</sup> GPU card is not used.</p>
</li>
</ul>
<p>GPU card are numbered starting from 0; to get the GPU devices list, type f.i. (Nvidia):
&ldquo;nvidia-smi&rdquo; or &ldquo;lspci | grep -i nvidia&rdquo;.</p>
<h2 id="gpu_kokkos_nthrd"><strong>gpu_kokkos_nthrd</strong><a class="headerlink" href="#gpu_kokkos_nthrd" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GPU KOKKOS implementation: Number of THReaDs<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> number of <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#openmp" title="True if ABINIT has been compiled using OPENMP multithreading (compilation for multicore processors)">OPENMP</a> threads<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_option">gpu_option</a> == 3 (<a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#kokkos" title="True if ABINIT has been compiled using KOKKOS performance library (compilation for GPU accelerators)">KOKKOS</a> GPU implementation)<br />
<em>Added in version:</em> v9.12  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [0/1245] in all abinit tests, [0/159] in abinit tutorials</summary></details>
<p>When GPU acceleration is enabled (via <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#kokkos" title="True if ABINIT has been compiled using KOKKOS performance library (compilation for GPU accelerators)">KOKKOS</a> implementation), OpenMP parallelism
on CPU cores is not fully supported. ABINIT will ignore <code>OMP_NUM_THREADS</code> value,
using 1 instead. But we may locally increase the number of OpenMP threads to speed-up
some specific parts of the code. In that case we use  <strong>gpu_kokkos_nthrd</strong>  to specify
the number of OpenMP threads.</p>
<h2 id="gpu_linalg_limit"><strong>gpu_linalg_limit</strong><a class="headerlink" href="#gpu_linalg_limit" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GPU: LINear ALGebra LIMIT<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 2000000<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_option">gpu_option</a> == 1 and <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#cuda" title="True if ABINIT has been compiled using Nvidia CUDA (compilation for Nvidia GPU)">CUDA</a> (Nvidia GPU, old CUDA implementation)<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [4/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>gpu:  <a class="wikilink abifile-wikilink" data-tippy-content="
Silicon - diamond structure - PAW - volume relaxation
Test the use of GPU within Projector Augmented-Wave formalism.
Test structure relaxation (multiple calls to gstate routine)." data-toggle="popover" href="/tests/gpu/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu/Input/t05.abi" target="_blank">t05.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu/Input/t05.abi" target="_blank">t05.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu/Input/t05.abi" target="_blank">t05.abi</a></li>
</ul>
</details>
<p>@legacy
This variable is obsolete and is only intended to be used with the old 2013 cuda
implementation of ABINIT on GPU (<a class="wikilink codevar-wikilink" href="/variables/paral#gpu_option">gpu_option</a>=1).
In that case, the use of linear/matrix algebra on GPU is only efficient if the size
of the involved matrices is large enough. The  <strong>gpu_linalg_limit</strong>  parameter
defines the threshold above which linear (and matrix) algebra operations are
done on the Graphics Processing Unit.
The matrix size is evaluated as to: SIZE=(<a class="wikilink codevar-wikilink" href="/variables/internal#mpw">%mpw</a> <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> <a class="wikilink codevar-wikilink" href="/variables/gstate#nspinor">nspinor</a> / <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>) <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> (<a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> <a class="wikilink codevar-wikilink" href="/variables/paral#bandpp">bandpp</a>) <span><span class="MathJax_Preview">^2</span><script type="math/tex">^2</script></span>
When SIZE&gt;= <strong>gpu_linalg_limit</strong> , <a class="wikilink codevar-wikilink" href="/variables/dev#wfoptalg">wfoptalg</a> parameter is automatically set
to 14 which corresponds to the use of the legacy LOBPCG algorithm for the calculation of
the eigenstates.</p>
<h2 id="gpu_nl_distrib"><strong>gpu_nl_distrib</strong><a class="headerlink" href="#gpu_nl_distrib" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GPU: Non-Local operator, DISTRIBute projections<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/dev#use_gemm_nonlop">use_gemm_nonlop</a> == 1 and <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_option">gpu_option</a> == 2 (<a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#openmp_offload" title="True if ABINIT has been compiled using OPENMP_OFFLOAD (openMP v5+) (compilation for GPU accelerators)">OPENMP_OFFLOAD</a>)<br />
<em>Added in version:</em> 9.12  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [0/1245] in all abinit tests, [0/159] in abinit tutorials</summary></details>
<p>When using GPU acceleration, the wave-function projections ($&lt;\tilde{p}<em nk="nk">i|\Psi</em>&gt; (used
in the non-local operator) are all stored on all GPU devices.
 <strong>gpu_nl_distrib</strong>  forces the distribution of these projections on several GPU devices. This
uses less memory per GPU but requires communications beween GPU devices. These communication
penalize the execution time.
<a class="wikilink codevar-wikilink" href="/variables/paral#gpu_nl_splitsize">gpu_nl_splitsize</a> defines the number of blocks used to split the projections.
In standard executions, the distribution is only needed on large use cases to address
the high memory needs. Therefore ABINIT uses the &ldquo;distributed mode&rdquo; automatically
when needed.</p>
<h2 id="gpu_nl_splitsize"><strong>gpu_nl_splitsize</strong><a class="headerlink" href="#gpu_nl_splitsize" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GPU: Non-Local operator SPLITing SIZE<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/dev#use_gemm_nonlop">use_gemm_nonlop</a> == 1 and <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_option">gpu_option</a> == 2 (<a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#openmp_offload" title="True if ABINIT has been compiled using OPENMP_OFFLOAD (openMP v5+) (compilation for GPU accelerators)">OPENMP_OFFLOAD</a>)<br />
<em>Added in version:</em> 9.12  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [0/1245] in all abinit tests, [0/159] in abinit tutorials</summary></details>
<p>Only relevant when <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_nl_distrib">gpu_nl_distrib</a> = 1.
When using GPU acceleration, the wave-function projections ($&lt;\tilde{p}<em nk="nk">i|\Psi</em>&gt; (used
in the non-local operator) are all stored on all GPU devices.
 <strong>gpu_nl_splitsize</strong>  defines the number of blocks used to split these projections
on several GPU devices.
In standard executions, the distribution is only needed on large use cases to address
the high memory needs. Therefore ABINIT uses the &ldquo;distributed mode&rdquo; automatically
when needed.</p>
<h2 id="gpu_option"><strong>gpu_option</strong><a class="headerlink" href="#gpu_option" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GPU: OPTION to choose the implementation<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer or string<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 2 if <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#openmp_offload" title="True if ABINIT has been compiled using OPENMP_OFFLOAD (openMP v5+) (compilation for GPU accelerators)">OPENMP_OFFLOAD</a>,
3 if <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#kokkos" title="True if ABINIT has been compiled using KOKKOS performance library (compilation for GPU accelerators)">KOKKOS</a>,
1 if <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#cuda" title="True if ABINIT has been compiled using Nvidia CUDA (compilation for Nvidia GPU)">CUDA</a>,
0 otherwise.</p>
<p><em>Added in version:</em> v9.12  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [51/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>gpu:  <a class="wikilink abifile-wikilink" data-tippy-content="
GaAs phonons calculation - norm-conserving psp
Test the automatic detection of the GPU and the automatic setting of
gpu_option keyword according to the requested calculation.
Ground-states calculations should be run with gpu_option activated
(except if set to 0 in input file) while response fonction calculations
should be run with gpu_option deactivated (at present : ABINIT v9.10)." data-toggle="popover" href="/tests/gpu/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
hcp iron - non magnetic - 2 atoms (metal)
Test the use of GPU within Norm-Conserving PseupoPotential formalism.
Test multidataset mode with different gpu_option values.
paral_kgb is activated." data-toggle="popover" href="/tests/gpu/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure
Test the use of GPU within Projector Augmented-Wave formalism.
Test ferromagnetic and non-collinear magnetism.
ABINIT v7.0: GPU is not used when nspinor=2" data-toggle="popover" href="/tests/gpu/Input/t03.abi" target="_blank">t03.abi</a> &hellip;</li>
<li>gpu_kokkos:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Also test gemm_nonlop" data-toggle="popover" href="/tests/gpu_kokkos/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/gpu_kokkos/Input/t02.abi" target="_blank">t02.abi</a> &hellip;</li>
<li>gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="
Silicon - diamond structure - PAW - volume relaxation
Test the use of GPU within Projector Augmented-Wave formalism.
Test structure relaxation (multiple calls to gstate routine)." data-toggle="popover" href="/tests/gpu_omp/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu_omp/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NiO - DFT+U - fcc structure - anitferro - PAW
Test the use of MPI+GPU" data-toggle="popover" href="/tests/gpu_omp/Input/t02.abi" target="_blank">t02.abi</a> &hellip;</li>
<li>hpc_gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="Uranim oxide (UO2) - 54 atoms (GGA) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t03.abi" target="_blank">t03.abi</a> &hellip;</li>
<li>v5:  <a class="wikilink abifile-wikilink" data-tippy-content="
Simple test for double grid (fine/coarse) system, the cutting
radius and the initial fermi energy in recursion method
Corresponding variables: recgratio, recrcut,recefermi respectively
Corresponding code: 68_recursion
Other test: paral/tT,v5/t76" data-toggle="popover" href="/tests/v5/Input/t75.abi" target="_blank">t75.abi</a> &hellip;</li>
</ul>
</details>
<p>Only relevant for Ground-State calculations (<a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a> == 0).
This option is only available if ABINIT executable has been compiled for the purpose
of being used with GPU accelerators. It allows to choose between the different
GPU programming models available in ABINIT:</p>
<ul>
<li>
<p><strong>gpu_option</strong> = &ldquo;GPU_DISABLED&rdquo; or  <strong>gpu_option</strong>  = 0: no use of GPU (even if compiled for GPU).</p>
</li>
<li>
<p><strong>gpu_option</strong> = &ldquo;GPU_LEGACY&rdquo; or  <strong>gpu_option</strong>  = 1: use the &ldquo;legacy&rdquo; 2013 implementation of GPU. This is a partial <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#cuda" title="True if ABINIT has been compiled using Nvidia CUDA (compilation for Nvidia GPU)">CUDA</a>
  implementation, using the <code>nvcc</code> <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#cuda" title="True if ABINIT has been compiled using Nvidia CUDA (compilation for Nvidia GPU)">CUDA</a> compiler. The old LOBPCG algorithm is automatically
  used to compute the eigenstates (<a class="wikilink codevar-wikilink" href="/variables/dev#wfoptalg">wfoptalg</a>=14). The external linear algebra library
  `MAGMA can also be linked to ABINIT to improve performances on large systems
  (see <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_linalg_limit">gpu_linalg_limit</a>).</p>
</li>
<li>
<p><strong>gpu_option</strong> = &ldquo;GPU_OPENMP&rdquo; or  <strong>gpu_option</strong>  = 2: use of the <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#openmp_offload" title="True if ABINIT has been compiled using OPENMP_OFFLOAD (openMP v5+) (compilation for GPU accelerators)">OPENMP_OFFLOAD</a> programming model to execute time consuming
  parts of the code on GPU. This implementation works on NVidia accelerators, if ABINIT has been
  compiled with a <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#cuda" title="True if ABINIT has been compiled using Nvidia CUDA (compilation for Nvidia GPU)">CUDA</a> compatible compiler and linked with NVidia FFT/linear algebra
  libraries (<a href="https://docs.nvidia.com/cuda/cufft">cuFFT</a>,
  <a href="https://docs.nvidia.com/cuda/cublas">cuBLAS</a> and
  <a href="https://docs.nvidia.com/cuda/cusolvermp">cuSOLVER</a>).
  It also works on `AMD accelerators (EXPERIMENTAL),
  if ABINIT has been compiled with a AMD compatible compiler and linked with NVidia
  FFT/linear algebra libraries (<a href="https://www.amd.com/fr/graphics/servers-solutions-rocm">ROCm</a>
  or <a href="https://github.com/ROCm/HIP">HIP</a>).</p>
</li>
<li>
<p><strong>gpu_option</strong> = &ldquo;GPU_KOKKOS&rdquo; or  <strong>gpu_option</strong>  = 3: use of the <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#kokkos" title="True if ABINIT has been compiled using KOKKOS performance library (compilation for GPU accelerators)">KOKKOS</a>+<a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#cuda" title="True if ABINIT has been compiled using Nvidia CUDA (compilation for Nvidia GPU)">CUDA</a> programming model to execute time consuming
  parts of the code on GPU. This implementation &ndash; at present &ndash; is only compatible with
  NVidia accelerators. It required that ABINIT has been linked to the
  <a href="https://github.com/kokkos/kokkos">Kokkos</a> and <a href="https://github.com/mrnorman/YAKL">YAKL</a>
  performance libraries. It also uses NVidia FFT/linear algebra libraries
  (<a href="https://docs.nvidia.com/cuda/cufft">cuFFT</a>, <a href="https://docs.nvidia.com/cuda/cublas">cuBLAS</a>).
  The <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#kokkos" title="True if ABINIT has been compiled using KOKKOS performance library (compilation for GPU accelerators)">KOKKOS</a> GPU implementation can be used in conjuction with openMP threads
  on CPU (see <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_kokkos_nthrd">gpu_kokkos_nthrd</a>).</p>
</li>
</ul>
<p>For an expert use of ABINIT on <a class="wikilink" data-tippy-content="This is an external parameter
typically compilation parameters, available libraries, or number of processors.
You can change these parameters at compile or runtime usually.
" data-toggle="popover" href="/variables/external_parameters#gpu" title="True if ABINIT has been compiled using one of the GPU implementations (CUDA, OPENMP_OFFLOAD, KOKKOS)">GPU</a>, some additional keywords can be used. See <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_nl_distrib">gpu_nl_distrib</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#gpu_nl_splitsize">gpu_nl_splitsize</a>.</p>
<h2 id="gwpara"><strong>gwpara</strong><a class="headerlink" href="#gwpara" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GW PARAllelization level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a>, <a class="wikilink topic-wikilink" data-tippy-content="How to perform a GW calculation, including self-consistency" data-toggle="popover" href="/topics/GW">topic_GW</a>, <a class="wikilink topic-wikilink" data-tippy-content="How compute the frequency-dependent susceptibility matrix, and related screened interaction matrix, and inverse dielectric marix" data-toggle="popover" href="/topics/Susceptibility">topic_Susceptibility</a>, <a class="wikilink topic-wikilink" data-tippy-content="How to compute the electronic self-energy (due to electron-electron interaction)" data-toggle="popover" href="/topics/SelfEnergy">topic_SelfEnergy</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 2<br />
<em>Comment:</em> The default value has been changed in v8, from 1 to 2.<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a> in [3,4]<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [59/1245] in all abinit tests, [4/159] in abinit tutorials</summary><ul>
<li>libxc:  <a class="wikilink abifile-wikilink" data-tippy-content="
Diamond: hybrid functional calculation with the GW code
Perturbative approach to the HSE06, PBE0, and B3LYP band gaps
HSE06 and PBE0 tests temporarily disabled, waiting for the next version of the libxc)" data-toggle="popover" href="/tests/libxc/Input/t41.abi" target="_blank">t41.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Diamond: hybrid functional calculation with the GW code
Self-consistent approach to the HSE06 band structure
based on a unitary transform of a subset of LDA wavefunctions" data-toggle="popover" href="/tests/libxc/Input/t42.abi" target="_blank">t42.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Diamond: hybrid functional calculation HSE with the GW code.
The Fock exchange mixing parameter is tunable." data-toggle="popover" href="/tests/libxc/Input/t43.abi" target="_blank">t43.abi</a> &hellip;</li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="Si, Bulk, 2 atoms, one-shot GW calculation, parallelism over k points." data-toggle="popover" href="/tests/paral/Input/t71.abi" target="_blank">t71.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si, Bulk, 2 atoms, one-shot GW calculation, parallelism over k points." data-toggle="popover" href="/tests/paral/Input/t71.abi" target="_blank">t71.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si, Bulk, 2 atoms, one-shot GW calculation, parallelism over k points." data-toggle="popover" href="/tests/paral/Input/t71.abi" target="_blank">t71.abi</a> &hellip;</li>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-tippy-content="GW calculation for crystalline alpha-quartz. Screening calculation" data-toggle="popover" href="/tests/tutoparal/Input/tmbt_2.abi" target="_blank">tmbt_2.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="GW calculation for crystalline alpha-quartz.
Screening calculation with Hilbert transform" data-toggle="popover" href="/tests/tutoparal/Input/tmbt_3.abi" target="_blank">tmbt_3.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="For SrVO3, compute U
The results of this test with 24 procs are non-reproducible at present ! See the huge tolerance. There must be a bug ..." data-toggle="popover" href="/tests/tutoparal/Input/tucalc_crpa_2.abi" target="_blank">tucalc_crpa_2.abi</a> &hellip;</li>
<li>tutorial:  <a class="wikilink abifile-wikilink" data-tippy-content="
Crystalline silicon
Preparatory run for BS calculations

There are four datasets specified in this input:
1) Ground-state calculation to get the density.
2) NSCF run to generate the WFK file on a symmetric k-mesh (4x4x4, gamma-centered)
3) NSCF run to generate another WFK file on a shifted 4x4x4 k-mesh that breaks the symmetry of the BZ sampling
4) SCR calculation with the WFK file generated in the second dataset" data-toggle="popover" href="/tests/tutorial/Input/tbs_1.abi" target="_blank">tbs_1.abi</a> &hellip;</li>
<li>v3:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si in 2-atom diamond unit cell (nkpt 2; ecut 6)
In dataset 1, ABINIT finds the ground state KS wavefunctions (tolwfr 1.0d-16).
the eigenvectors necessary for the GW calculation being stored in _WFK.
In dataset 2, ABINIT computes the eps^-1 matrix (optdriver 3)
nband 10) for the GW calculation and stores it in _SCR.
In dataset 3-6, ABINIT computes the GW correction for bands 4 and 5 with different plasmon-pole models." data-toggle="popover" href="/tests/v3/Input/t30.abi" target="_blank">t30.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
SiC in zinc-blende structure (nkpt 2; ecut 6)
In dataset 1, ABINIT finds the ground state wavefunctions (tolwfr 1.0d-16)
the eigenvectors necessary for the GW calculation being stored in _WFK.
In dataset 2, ABINIT computes the eps^-1 matrix (optdriver 3, nband 10)
for the GW calculation and stores it in _SCR.
In dataset 3, ABINIT computes the GW correction for bands 4 and 5" data-toggle="popover" href="/tests/v3/Input/t31.abi" target="_blank">t31.abi</a> &hellip;</li>
<li>v4:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si FCC, in primitive cell (2 atoms/cell).
Test GW calculation with and without plasmon-pole model." data-toggle="popover" href="/tests/v4/Input/t84.abi" target="_blank">t84.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Al FCC, in primitive cell (1 atom/cell).
Test GW calculation with and without plasmon-pole model for a metal." data-toggle="popover" href="/tests/v4/Input/t85.abi" target="_blank">t85.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Si FCC, in primitive cell (2 atoms/cell).
Test self-consistent model GW (2 iterations) following Faleev et al. [PRL 93, 126406 (2004)]." data-toggle="popover" href="/tests/v4/Input/t88.abi" target="_blank">t88.abi</a> &hellip;</li>
<li>v5:  <a class="wikilink abifile-wikilink" data-tippy-content="
Silicon
One-shot GW with contour deformation. Hilbert transform is used to calculate
the irreducible polarizability starting from the imaginary part. The delta distribution
is approximated by means of a triangular function as in PRB 74, 035101 (2006)." data-toggle="popover" href="/tests/v5/Input/t71.abi" target="_blank">t71.abi</a> &hellip;</li>
<li>v67mbpt:  <a class="wikilink abifile-wikilink" data-tippy-content="
SiC in zinc-blende structure
Calculation of the GW corrections with 4 different plasmon-pole models.
The following variables are tested: inclvkb=2, nomegasrd and omegasrd." data-toggle="popover" href="/tests/v67mbpt/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
GW calculation in Si: Hilbert transform method for the irreducible polarizability (gaussian approximant)
and analytic continuation of sigma from imaginary- to real-axis. The spectral function is also
obtained via Pade extrapolation. The following variables are tested spmeth=2, spbroad,
nomegasi, and omegasimax" data-toggle="popover" href="/tests/v67mbpt/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Isolated H chain: GW calculation with cylindrical cutoff in the Coulomb interaction in order to
speed up the convergence wrt the size of the super cell. The following variables are tested
gw_icutcoul=1, rcut, vcutgeo, gw_nqlwl and gw_qlwl." data-toggle="popover" href="/tests/v67mbpt/Input/t03.abi" target="_blank">t03.abi</a> &hellip;</li>
<li>v7:  <a class="wikilink abifile-wikilink" data-tippy-content="
Diamond: G0W0 @ scPBE0-1/3 calculation. Monitor the direct gap at Gamma.

First, with the scGW methodology based on a Kohn-Sham basis,
then doing the scPBE0 using the planewave basis, followed by a one-shot G0W0.
The agreement is reasonable with the parameters used in the automatic test,
but can be improved with better parameters (esp. nband), see later.
At the PBE level, the (KS) band gap is 5.231 eV,
At the scPBE0-1/3 level, the Kohn-Sham basis delivers 8.101 eV,
while the plane wave basis delivers 8.122 eV.
At the G0W0-scPBE0-1/3 level, the Kohn-Sham basis delivers 7.638 eV,
while the plane wave basis delivers 7.659 eV.
The macroscopic dielectric constant (at Gamma) is 9.3698 from PBE,
4.4126 from scPBE0-1/3(KS) and 4.4105 from scPBE0-1/3(planewaves).

These calculations have also been done with better
parameters, in order to observe a better agreement between the KS basis set and the
planewave basis set (ecut 20  ecutsigx 20  nband 30 gw_qprange 30 - note however that ecuteps 2 is low),
at the expense of CPU time..
In this case, one used the PBE0 functional (ixc_sigma=41 or ixc_sigma=-406,
of even isc_sigma=42 with hyb_mixing=0.25 - all the cases were checked).
At the PBE level, the (KS) band gap was 5.661 eV,
At the scPBE0 level, the Kohn-Sham basis delivered 7.882 eV,
while the plane wave basis delivered 7.884 eV.
At the G0W0-scPBE0 level, the Kohn-Sham basis delivered 7.820 eV,
while the plane wave basis delivered 7.827 eV.
The macroscopic dielectric constant (at Gamma) was 7.845 from PBE,
4.483 from scPBE0(KS) and 4.490 from scPBE0(planewaves)." data-toggle="popover" href="/tests/v7/Input/t68.abi" target="_blank">t68.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="For SrVO3, compute cRPA screened interaction U in the d-dp(b) model" data-toggle="popover" href="/tests/v7/Input/t78.abi" target="_blank">t78.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="For SrVO3, compute cRPA screened interaction U by excluding an energy window to compute epsilon" data-toggle="popover" href="/tests/v7/Input/t79.abi" target="_blank">t79.abi</a> &hellip;</li>
<li>v8:  <a class="wikilink abifile-wikilink" data-tippy-content="
HF calculation with NC pseudopotentials, different combinations of nspinor in [1, 2], with/wo SOC
Test WFK IO and wafunction conversion nspinor 1 --&gt; nspinor 2
HF results in dataset 4-5 should be indentical, dataset 6 should show SOC splitting." data-toggle="popover" href="/tests/v8/Input/t90.abi" target="_blank">t90.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test sigma driver with nspinor == 2. Use screening computed with nspinor 1 and nspden 1" data-toggle="popover" href="/tests/v8/Input/t91.abi" target="_blank">t91.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test G0W0 with nspinor and plasmon-pole model, no SOC" data-toggle="popover" href="/tests/v8/Input/t92.abi" target="_blank">t92.abi</a> &hellip;</li>
<li>v9:  <a class="wikilink abifile-wikilink" data-tippy-content="
Silicon
One-shot GW with analytic continuation of Sigma(iw)
convolution is performed on the imaginary axis = \int dz G(iw+iz) W(iz)
low-rank approximation is used in the last dataset" data-toggle="popover" href="/tests/v9/Input/t32.abi" target="_blank">t32.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Silicon
check numerical stability of Chi0 with inclvkb=2" data-toggle="popover" href="/tests/v9/Input/t40.abi" target="_blank">t40.abi</a> &hellip;</li>
<li>wannier90:  <a class="wikilink abifile-wikilink" data-tippy-content="
Cannot be executed in parallel (mlwfovl_qp)
Si fcc, in primitive cell (2 atoms/cell)
Test of self-consistent model GW (2 iterations) following Faleev et al.,
[PRL 93, 126406 (2004)] followed by construction of quasiparticle
maximally-localized wannier functions [Hamann &amp; Vanderbilt,
arXiv:0810.3616v1 (cond-mat.mtrl-sci)].  Cutoffs are set for test-
acceptable speed, and the results are poorly converged.  The input
file is sufficiently annotated to serve as a model.  Note that well-
converged GW calculations are extremely time consuming, and in general
it is advisable to run the SCGW part separately on a parallel system,
and then run a separate serial job modeled on the last dataset,
substituting &quot;irdwfk&quot; and &quot;irdqps&quot; for &quot;getwfk&quot; and &quot;getqps,&quot; with
appropriate links to the files produced in the serial run.  Note that
the _DEN file from the first dataset is also needed as input, although
the discontinued &quot;irdden&quot; input variable is not needed or supported.
Note that acceptable names for the secondary input file needed by the
wannier90 library are wannier90.win, w90.win, abo_DSn_w90.win (ndtset
&gt;0) and abo_w90.win (ndtset=0), where abo is the 4th line of the .files
file and n is the wannier dataset." data-toggle="popover" href="/tests/wannier90/Input/t03.abi" target="_blank">t03.abi</a> &hellip;</li>
</ul>
</details>
<p>gwpara is used to choose between the two different parallelization levels
available in the GW code. The available options are:</p>
<ul>
<li>1 &rarr; parallelisation on k points.</li>
<li>2 &rarr; parallelisation on bands.</li>
</ul>
<p>In the present status of the code, only the parallelization over bands
( <strong>gwpara</strong>  = 2) allows one to reduce the memory allocated by each processor.
Using  <strong>gwpara</strong>  = 1, indeed, requires the same amount of memory as a sequential
run, irrespectively of the number of CPUs used.</p>
<p>In the screening calculation <a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a>=3, with  <strong>gwpara</strong> =2, the
code distributes the wavefunctions such that each processing unit owns the
FULL set of occupied bands while the empty states are DISTRIBUTED among the
nodes. Thus the parallelisation is over the unoccupied states.</p>
<p>The parallelism of the self-energy calculation <a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a>=4,
with  <strong>gwpara</strong> =2, is somehow different. It is over the entire set of bands,
and has different characteristics for the correlation calculation and for the exchange calculation..
The MPI computation of the correlation part is efficient when the number of processors divides <a class="wikilink codevar-wikilink" href="/variables/basic#nband">nband</a>.
Optimal scaling in the exchange part is obtained only when each node possesses the full set of occupied states.</p>
<h2 id="localrdwf"><strong>localrdwf</strong><a class="headerlink" href="#localrdwf" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> LOCAL ReaD WaveFunctions<br />
<em>Characteristics:</em> <a class="wikilink" href="/guide/abinit#parameters">DEVELOP</a><br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [41/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut. Test localrdwf=1" data-toggle="popover" href="/tests/mpiio/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut. Test localrdwf=1" data-toggle="popover" href="/tests/mpiio/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut. Test localrdwf=1" data-toggle="popover" href="/tests/mpiio/Input/t01.abi" target="_blank">t01.abi</a> &hellip;</li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut." data-toggle="popover" href="/tests/paral/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut." data-toggle="popover" href="/tests/paral/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut." data-toggle="popover" href="/tests/paral/Input/t01.abi" target="_blank">t01.abi</a> &hellip;</li>
</ul>
</details>
<p>This input variable is used only when running abinit in parallel. If
 <strong>localrdwf</strong>  = 1, the input wavefunction disk file or the KSS/SCR file in case
of GW calculations, is read locally by each processor, while if
 <strong>localrdwf</strong>  = 0, only one processor reads it, and broadcast the data to the other processors.</p>
<p>The option  <strong>localrdwf</strong>  = 0 is NOT allowed when parallel I/O are activated
(MPI-IO access), i.e. when <a class="wikilink codevar-wikilink" href="/variables/dev#iomode">iomode</a> == 1.</p>
<p>In the case of a parallel computer with a unique file system, both options are
as convenient for the user. However, if the I/O are slow compared to
communications between processors,,  <strong>localrdwf</strong>  = 0 should be much more
efficient; if you really need temporary disk storage, switch to localrdwf=1).</p>
<p>In the case of a cluster of nodes, with a different file system for each
machine, the input wavefunction file must be available on all nodes if
 <strong>localrdwf</strong>  = 1, while it is needed only for the master node if  <strong>localrdwf</strong>  = 0.</p>
<h2 id="max_ncpus"><strong>max_ncpus</strong><a class="headerlink" href="#max_ncpus" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> MAXimum Number of CPUS<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [1/1245] in all abinit tests, [1/159] in abinit tutorials</summary><ul>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-tippy-content="Gold with one vacancy (107 atoms of gold)." data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_01.abi" target="_blank">tparal_bandpw_01.abi</a></li>
</ul>
</details>
<p>If <a class="wikilink codevar-wikilink" href="/variables/paral#autoparal">autoparal</a> &gt; 1 and  <strong>max_ncpus</strong>  is greater than 0, ABINIT analyzes the
efficiency of the process distribution for each possible number of processors
from 2 to  <strong>max_ncpus</strong> . After having printed out the efficiency, the code stops.</p>
<h2 id="np_slk"><strong>np_slk</strong><a class="headerlink" href="#np_slk" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of mpi Processors used for ScaLapacK calls<br />
<em>Characteristics:</em> <a class="wikilink" href="/guide/abinit#parameters">DEVELOP</a><br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1000000<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a> == 1 and <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> == 1 (Ground-state calculations with LOBPCG algorithm)<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [2/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/paral/Input/t22.abi" target="_blank">t22.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Also test gemm_nonlop" data-toggle="popover" href="/tests/paral/Input/t30.abi" target="_blank">t30.abi</a></li>
</ul>
</details>
<p>When using Scalapack (or any similar Matrix Algebra library such as ELPA), the efficiency
of the eigenproblem solver saturates as the number of CPU cores increases.
In this case, it is more efficient to use a smaller number of CPUs for the LINALG calls.
The maximum number of cores can be set with  <strong>np_slk</strong> .
A large number for  <strong>np_slk</strong>  (i.e. 1000000) means that all cores are used for
the Linear Algebra calls.
np_slk must divide the number of processors involved in diagonalizations
(<a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a> <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>).
Note (bef v8.8): an optimal value for this parameter can be automatically found by using
the <a class="wikilink codevar-wikilink" href="/variables/paral#autoparal">autoparal</a> input keyword.
Note (since v8.8 and only for LOBPCG (<a class="wikilink codevar-wikilink" href="/variables/dev#wfoptalg">wfoptalg</a> == 114) with <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> = 1):
* If set to <strong><em>0</em></strong> then scalapack is disabled.
* If set to its <strong><em>default value</em></strong>, then abinit uses between 2 and <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a><em><a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a></em><a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> cpus according to the system size (default auto behaviour).
  See <a class="wikilink codevar-wikilink" href="/variables/gstate#slk_rankpp">slk_rankpp</a> for more customization.
* If set to a number ***&gt;1** then forces abinit to use exactly this number of cpus.
  Due to legacy behaviour, although it is not mandatory in theory, this value <em>must</em> divide <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a><em><a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a></em><a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>.
See also <a class="wikilink codevar-wikilink" href="/variables/gstate#slk_rankpp">slk_rankpp</a> for a better tuning instead of this variable.</p>
<h2 id="np_spkpt"><strong>np_spkpt</strong><a class="headerlink" href="#np_spkpt" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the SPin and K-Point Level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> == 1<br />
<em>Added in version:</em> 9.4.0  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [64/1245] in all abinit tests, [4/159] in abinit tutorials</summary><ul>
<li>gpu_kokkos:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Also test gemm_nonlop" data-toggle="popover" href="/tests/gpu_kokkos/Input/t01.abi" target="_blank">t01.abi</a> &hellip;</li>
<li>gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==1, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t03.abi" target="_blank">t03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==2, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
LOBPCG, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==1, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t05.abi" target="_blank">t05.abi</a> &hellip;</li>
<li>libxc:  <a class="wikilink abifile-wikilink" data-tippy-content="Test of HSE06 in PAW" data-toggle="popover" href="/tests/libxc/Input/t53.abi" target="_blank">t53.abi</a> &hellip;</li>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si, Bulk, 2 atoms , paral_kgb.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/mpiio/Input/t21.abi" target="_blank">t21.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/mpiio/Input/t22.abi" target="_blank">t22.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over FFT and kpoints:
npband*npfft*np_spkpt=1*2*2=4 processors.
In test tY.in we check other distributions for guarantee." data-toggle="popover" href="/tests/mpiio/Input/t24.abi" target="_blank">t24.abi</a> &hellip;</li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a> &hellip;</li>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-tippy-content="Molecular dynamics for Al" data-toggle="popover" href="/tests/tutoparal/Input/tmoldyn_01.abi" target="_blank">tmoldyn_01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NaI with a sligthly expanded lattice, to allow self-localisation of a hole polaron, using pSIC technique.
Realistic ecut and reasonable k point sampling, but small cell of only 8 atoms for testing.
The present test at the fixed, symmetric geometry, for reference. Of course, the cell is not primitive.

Parallelism until 12 procs is quite efficient. However, setting npband 2 does not bring noticeable improvement.
Although this is still subject for further investigation, the hypothesis is that the density/xc/potential part
is not improved with npband 2, while it is actually a major contribution, even with 32 bands.
Timing analysis is to be performed." data-toggle="popover" href="/tests/tutoparal/Input/tpsic_01.abi" target="_blank">tpsic_01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NaI with a sligthly expanded lattice, to allow self-localisation of a hole polaron, using pSIC technique.
Realistic ecut and reasonable k point sampling, but small cell of only 8 atoms for testing.
The present test at a set of decreasing I-I interatomic distances

Parallelism until 12 procs is quite efficient. However, setting npband 2 does not bring noticeable improvement.
Although this is still subject for further investigation, the hypothesis is that the density/xc/potential part
is not improved with npband 2, while it is actually a major contribution, even with 32 bands.
Timing analysis is to be performed." data-toggle="popover" href="/tests/tutoparal/Input/tpsic_02.abi" target="_blank">tpsic_02.abi</a> &hellip;</li>
<li>v7:  <a class="wikilink abifile-wikilink" data-tippy-content="Test of PBE0 in sequential case" data-toggle="popover" href="/tests/v7/Input/t65.abi" target="_blank">t65.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of PBE0 in sequential case" data-toggle="popover" href="/tests/v7/Input/t66.abi" target="_blank">t66.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of Fock in sequential case, with auxiliary XC functional." data-toggle="popover" href="/tests/v7/Input/t67.abi" target="_blank">t67.abi</a> &hellip;</li>
</ul>
</details>
<p>Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a>
input variable).
 <strong>np_spkpt</strong>  gives the number of processors among which the work load over the
k-point/spin-component level is shared.  <strong>np_spkpt</strong> , <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> and
<a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> are combined to give the total number of processors (nproc)
working on the band/FFT/k-point parallelisation.
See <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</p>
<p>Previously, this input variable was called <a class="wikilink codevar-wikilink" href="/variables/paral#npkpt">npkpt</a>.</p>
<p><strong>np_spkpt</strong>  should be a divisor of or equal to the number of k-point/spin-
components (<a class="wikilink codevar-wikilink" href="/variables/basic#nkpt">nkpt</a> <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> <a class="wikilink codevar-wikilink" href="/variables/basic#nsppol">nsppol</a>) in order to have a good load-balancing
and efficiency.
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink codevar-wikilink" href="/variables/paral#autoparal">autoparal</a> input keyword.</p>
<h2 id="npband"><strong>npband</strong><a class="headerlink" href="#npband" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the BAND level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> == 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [99/1245] in all abinit tests, [7/159] in abinit tutorials</summary><ul>
<li>gpu_kokkos:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Also test gemm_nonlop" data-toggle="popover" href="/tests/gpu_kokkos/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/gpu_kokkos/Input/t02.abi" target="_blank">t02.abi</a> &hellip;</li>
<li>gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==1, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t03.abi" target="_blank">t03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==2, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
LOBPCG, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==1, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t05.abi" target="_blank">t05.abi</a> &hellip;</li>
<li>hpc_gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="Uranim oxide (UO2) - 54 atoms (GGA) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t03.abi" target="_blank">t03.abi</a> &hellip;</li>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si, Bulk, 2 atoms , paral_kgb.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/mpiio/Input/t21.abi" target="_blank">t21.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/mpiio/Input/t22.abi" target="_blank">t22.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over FFT and kpoints:
npband*npfft*np_spkpt=1*2*2=4 processors.
In test tY.in we check other distributions for guarantee." data-toggle="popover" href="/tests/mpiio/Input/t24.abi" target="_blank">t24.abi</a> &hellip;</li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si, Bulk, 2 atoms , paral_kgb.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/paral/Input/t21.abi" target="_blank">t21.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/paral/Input/t22.abi" target="_blank">t22.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over FFT and kpoints:
npband*npfft*np_spkpt=1*2*2=4 processors.
In test tY.in we check other distributions for guarantee." data-toggle="popover" href="/tests/paral/Input/t24.abi" target="_blank">t24.abi</a> &hellip;</li>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_02.abi" target="_blank">tparal_bandpw_02.abi</a>, <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_03.abi" target="_blank">tparal_bandpw_03.abi</a>, <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_04.abi" target="_blank">tparal_bandpw_04.abi</a> &hellip;</li>
<li>v10:  <a class="wikilink abifile-wikilink" data-tippy-content="Compare chebfi2 with respect to other algorithms (istwfk&gt;1,NC)." data-toggle="popover" href="/tests/v10/Input/t03.abi" target="_blank">t03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Compare chebfi2 with respect to other algorithms (istwfk&gt;1,PAW)." data-toggle="popover" href="/tests/v10/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Compare chebfi2 with respect to other algorithms (istwfk&gt;1,NC)." data-toggle="popover" href="/tests/v10/Input/t05.abi" target="_blank">t05.abi</a> &hellip;</li>
<li>v67mbpt:  <a class="wikilink abifile-wikilink" data-tippy-content="
Molecular SiH4 in GWLS (G0W0 with Lanczos basis and Sternheimer equations)" data-toggle="popover" href="/tests/v67mbpt/Input/t15.abi" target="_blank">t15.abi</a> &hellip;</li>
<li>v9:  <a class="wikilink abifile-wikilink" data-tippy-content="Compare chebfi2 with respect to other algorithms (istwfk=1)." data-toggle="popover" href="/tests/v9/Input/t206.abi" target="_blank">t206.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Same as t206 but with nspinor=2. Compare chebfi2 with respect to other algorithms." data-toggle="popover" href="/tests/v9/Input/t207.abi" target="_blank">t207.abi</a> &hellip;</li>
</ul>
</details>
<p>Relevant only for the band/FFT parallelisation (see the <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> input variable).
 <strong>npband</strong>  gives the number of processors among which the work load over the
band level is shared.  <strong>npband</strong> , <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> are
combined to give the total number of processors (nproc) working on the
band/FFT/k-point parallelisation.
See <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.  <strong>npband</strong>  has to
be a divisor or equal to <a class="wikilink codevar-wikilink" href="/variables/basic#nband">nband</a>
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink codevar-wikilink" href="/variables/paral#autoparal">autoparal</a> input keyword.</p>
<h2 id="npfft"><strong>npfft</strong><a class="headerlink" href="#npfft" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the FFT level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> == 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [68/1245] in all abinit tests, [4/159] in abinit tutorials</summary><ul>
<li>gpu_kokkos:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Also test gemm_nonlop" data-toggle="popover" href="/tests/gpu_kokkos/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/gpu_kokkos/Input/t02.abi" target="_blank">t02.abi</a> &hellip;</li>
<li>gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==1, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t03.abi" target="_blank">t03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==2, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
LOBPCG, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==1, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t05.abi" target="_blank">t05.abi</a> &hellip;</li>
<li>hpc_gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="Uranim oxide (UO2) - 54 atoms (GGA) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t03.abi" target="_blank">t03.abi</a> &hellip;</li>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si, Bulk, 2 atoms , paral_kgb.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/mpiio/Input/t21.abi" target="_blank">t21.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/mpiio/Input/t22.abi" target="_blank">t22.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over FFT and kpoints:
npband*npfft*np_spkpt=1*2*2=4 processors.
In test tY.in we check other distributions for guarantee." data-toggle="popover" href="/tests/mpiio/Input/t24.abi" target="_blank">t24.abi</a> &hellip;</li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
Si, Bulk, 2 atoms , paral_kgb.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/paral/Input/t21.abi" target="_blank">t21.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test of ground state with different occs(7 and 0),
and also ionmov 2. Only with 0 and 4 procs." data-toggle="popover" href="/tests/paral/Input/t22.abi" target="_blank">t22.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over FFT and kpoints:
npband*npfft*np_spkpt=1*2*2=4 processors.
In test tY.in we check other distributions for guarantee." data-toggle="popover" href="/tests/paral/Input/t24.abi" target="_blank">t24.abi</a> &hellip;</li>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_02.abi" target="_blank">tparal_bandpw_02.abi</a>, <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_03.abi" target="_blank">tparal_bandpw_03.abi</a>, <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_04.abi" target="_blank">tparal_bandpw_04.abi</a> &hellip;</li>
<li>v67mbpt:  <a class="wikilink abifile-wikilink" data-tippy-content="
Molecular SiH4 in GWLS (G0W0 with Lanczos basis and Sternheimer equations)" data-toggle="popover" href="/tests/v67mbpt/Input/t15.abi" target="_blank">t15.abi</a> &hellip;</li>
</ul>
</details>
<p>Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a>
input variable).
 <strong>npfft</strong>  gives the number of processors among which the work load over the
FFT level is shared.  <strong>npfft</strong> , <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> are
combined to give the total number of processors (nproc) working on the
band/FFT/k-point parallelisation.
See <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>, and <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</p>
<p>Note: <a class="wikilink codevar-wikilink" href="/variables/gstate#ngfft">ngfft</a> is automatically adjusted to  <strong>npfft</strong> . If the number of
processor is changed from a calculation to another one,  <strong>npfft</strong>  may change,
and then <a class="wikilink codevar-wikilink" href="/variables/gstate#ngfft">ngfft</a> also.
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink codevar-wikilink" href="/variables/paral#autoparal">autoparal</a> input keyword.</p>
<h2 id="nphf"><strong>nphf</strong><a class="headerlink" href="#nphf" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors for (Hartree)-Fock exact exchange<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to use hybrid functionals" data-toggle="popover" href="/topics/Hybrids">topic_Hybrids</a>, <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [10/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>libxc:  <a class="wikilink abifile-wikilink" data-tippy-content="Test of HSE06 in PAW" data-toggle="popover" href="/tests/libxc/Input/t53.abi" target="_blank">t53.abi</a></li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
Test of HF in parallel.
NB: HF does not support MPI-IO. gmatteo will add support for HDF5 when this test
will succeed with MPI-IO. For the time being, this test is disabled when we are in netcdf mode." data-toggle="popover" href="/tests/paral/Input/t93.abi" target="_blank">t93.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test of PBE0-1/3 in parallel
NB: HF does not support MPI-IO. gmatteo will add support for HDF5 when this test
will succeed with MPI-IO. For the time being, this test is disabled when we are in netcdf mode." data-toggle="popover" href="/tests/paral/Input/t94.abi" target="_blank">t94.abi</a></li>
<li>v7:  <a class="wikilink abifile-wikilink" data-tippy-content="Test of PBE0 in sequential case" data-toggle="popover" href="/tests/v7/Input/t65.abi" target="_blank">t65.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of PBE0 in sequential case" data-toggle="popover" href="/tests/v7/Input/t66.abi" target="_blank">t66.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of Fock in sequential case, with auxiliary XC functional." data-toggle="popover" href="/tests/v7/Input/t67.abi" target="_blank">t67.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of Fock in sequential case, with simple mixing and NC psps" data-toggle="popover" href="/tests/v7/Input/t69.abi" target="_blank">t69.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of HF in PAW" data-toggle="popover" href="/tests/v7/Input/t70.abi" target="_blank">t70.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of Fock in sequential case, with simple mixing and PAW" data-toggle="popover" href="/tests/v7/Input/t71.abi" target="_blank">t71.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of Fock in sequential case, with RMM-DIIS and NC psps
The energy computation is not variational. While residm and vres2 converge
quite fast, the total energy convergence is lagging behind ..." data-toggle="popover" href="/tests/v7/Input/t72.abi" target="_blank">t72.abi</a></li>
</ul>
</details>
<p>Relevant only for the k-point/fock parallelisation (option <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> input
variable).
 <strong>nphf</strong>  gives the number of processors among which the work load over the
occupied states level is shared.  <strong>nphf</strong>  and <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a> are combined to give
the total number of processors (nproc) working on the parallelisation.</p>
<p>Note:  <strong>nphf</strong>  should be a divisor or equal to the number of k-point times
the number of bands for exact exchange (<a class="wikilink codevar-wikilink" href="/variables/basic#nkpthf">nkpthf</a> <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> <a class="wikilink codevar-wikilink" href="/variables/basic#nbandhf">nbandhf</a>) in order to
have the better load-balancing and efficiency.</p>
<h2 id="npimage"><strong>npimage</strong><a class="headerlink" href="#npimage" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the IMAGE level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a>, <a class="wikilink topic-wikilink" data-tippy-content="How to perform a PIMD calculation" data-toggle="popover" href="/topics/PIMD">topic_PIMD</a>, <a class="wikilink topic-wikilink" data-tippy-content="How to calculate transition paths" data-toggle="popover" href="/topics/TransPath">topic_TransPath</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [8/1245] in all abinit tests, [4/159] in abinit tutorials</summary><ul>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Test the string method within parallelization over images
Inspired by test v6#22.
Hydrogen diatomic molecule in a cell, close to BCC
7 images, exploring the transition path.
Three datasets, testing each value of prtvolimg.
Processors distribution automatically determined:" data-toggle="popover" href="/tests/paral/Input/t08.abi" target="_blank">t08.abi</a></li>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-tippy-content="
Hydronium ion + NH3 molecule
String method
Moving the proton from H2O to NH3
keeping O and H atoms fixed" data-toggle="popover" href="/tests/tutoparal/Input/timages_04.abi" target="_blank">timages_04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NaI with a sligthly expanded lattice, to allow self-localisation of a hole polaron, using pSIC technique.
Realistic ecut and reasonable k point sampling, but small cell of only 8 atoms for testing.
The present test at the fixed, symmetric geometry, for reference. Of course, the cell is not primitive.

Parallelism until 12 procs is quite efficient. However, setting npband 2 does not bring noticeable improvement.
Although this is still subject for further investigation, the hypothesis is that the density/xc/potential part
is not improved with npband 2, while it is actually a major contribution, even with 32 bands.
Timing analysis is to be performed." data-toggle="popover" href="/tests/tutoparal/Input/tpsic_01.abi" target="_blank">tpsic_01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NaI with a sligthly expanded lattice, to allow self-localisation of a hole polaron, using pSIC technique.
Realistic ecut and reasonable k point sampling, but small cell of only 8 atoms for testing.
The present test at a set of decreasing I-I interatomic distances

Parallelism until 12 procs is quite efficient. However, setting npband 2 does not bring noticeable improvement.
Although this is still subject for further investigation, the hypothesis is that the density/xc/potential part
is not improved with npband 2, while it is actually a major contribution, even with 32 bands.
Timing analysis is to be performed." data-toggle="popover" href="/tests/tutoparal/Input/tpsic_02.abi" target="_blank">tpsic_02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
NaI with a sligthly expanded lattice, to allow self-localisation of a hole polaron, using pSIC technique.
Realistic ecut and reasonable k point sampling, but small cell of only 8 atoms for testing.
The present test starts from a reasonable I-I interatomic distance, and search for the optimized polaron geometry, without constraint.

Parallelism until 12 procs is quite efficient. However, setting npband 2 does not bring noticeable improvement.
Although this is still subject for further investigation, the hypothesis is that the density/xc/potential part
is not improved with npband 2, while it is actually a major contribution, even with 32 bands.
Timing analysis is to be performed." data-toggle="popover" href="/tests/tutoparal/Input/tpsic_03.abi" target="_blank">tpsic_03.abi</a></li>
</ul>
</details>
<p>Relevant only when sets of images are activated (see <a class="wikilink codevar-wikilink" href="/variables/rlx#imgmov">imgmov</a> and <a class="wikilink codevar-wikilink" href="/variables/rlx#nimage">nimage</a>
).
 <strong>npimage</strong>  gives the number of processors among which the work load over the
image level is shared. It is compatible with all other parallelization levels
available for ground-state calculations.
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink codevar-wikilink" href="/variables/paral#autoparal">autoparal</a> input keyword.</p>
<p>See <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> for the
additional information on the use of k-point/band/FFT parallelisation.</p>
<h2 id="npkpt"><strong>npkpt</strong><a class="headerlink" href="#npkpt" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the SPin and K-Point Level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> == 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [15/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>gpu_kokkos:  <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/gpu_kokkos/Input/t02.abi" target="_blank">t02.abi</a></li>
<li>hpc_gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="Uranim oxide (UO2) - 54 atoms (GGA) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t03.abi" target="_blank">t03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t05.abi" target="_blank">t05.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t06.abi" target="_blank">t06.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t07.abi" target="_blank">t07.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t08.abi" target="_blank">t08.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t09.abi" target="_blank">t09.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t10.abi" target="_blank">t10.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t11.abi" target="_blank">t11.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t12.abi" target="_blank">t12.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t13.abi" target="_blank">t13.abi</a></li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="Compare cprj_in_memory=1 with cprj_in_memory=0 (lobpcg2 and chebfi2). PAW,istwfk=1,npkpt=2,npband=2" data-toggle="popover" href="/tests/paral/Input/t39.abi" target="_blank">t39.abi</a></li>
</ul>
</details>
<p>This input variable has been superceded by <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>.
For the time being, for backward compatibility with AbiPy,
 <strong>npkpt</strong>  is still recognized, with the same meaning than <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>,
despite the incorrect lack of mention of the spin parallelism in the name  <strong>npkpt</strong> .
Please, stop using  <strong>npkpt</strong>  as soon as possible.</p>
<h2 id="nppert"><strong>nppert</strong><a class="headerlink" href="#nppert" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the PERTurbation level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#paral_rf">paral_rf</a> == 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [4/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
This test check the parallelization over atomic sites both for the ground state
and response function features (within PAW formalism), together with
parallelization over perturbations.
Computation of phonons and response to electric field within PAW (both q=0 and q/=0)
Test on AlAs structure inspired by v6/t62.
Ground state, DDK, effective charges and dielectric tensor are computed.
Phonon modes at q=0 are computed.
Phonon modes at q=(1/4,0,0) and q=(-1/4,1/2/1/4) are computed.
Note: Charge neutrality is not achieved with the present dataset,
but can be easily reached by increasing some parameters; for instance:
(ngkpt 8 8 8, ecut 15., pawecutdg 30.) gives Z(Al)=2.1184310, Z(As)=-2.1184804" data-toggle="popover" href="/tests/mpiio/Input/t62.abi" target="_blank">t62.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
This test check the parallelization over atomic sites both for the ground state
and response function features (within PAW formalism), together with
parallelization over perturbations.
Computation of phonons and response to electric field within PAW (both q=0 and q/=0)
Test on AlAs structure inspired by v6/t62.
Ground state, DDK, effective charges and dielectric tensor are computed.
Phonon modes at q=0 are computed.
Phonon modes at q=(1/4,0,0) and q=(-1/4,1/2/1/4) are computed.
Note: Charge neutrality is not achieved with the present dataset,
but can be easily reached by increasing some parameters; for instance:
(ngkpt 8 8 8, ecut 15., pawecutdg 30.) gives Z(Al)=2.1184310, Z(As)=-2.1184804" data-toggle="popover" href="/tests/mpiio/Input/t62.abi" target="_blank">t62.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="GaAs linear response with NC. Test the parallelisation on perturbations" data-toggle="popover" href="/tests/mpiio/Input/t69.abi" target="_blank">t69.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="GaAs linear response with NC. Test the parallelisation on perturbations" data-toggle="popover" href="/tests/mpiio/Input/t69.abi" target="_blank">t69.abi</a></li>
</ul>
</details>
<p>This parameter is used in connection to the parallelization over
perturbations (see <a class="wikilink codevar-wikilink" href="/variables/paral#paral_rf">paral_rf</a> ), for a linear response calculation.
 <strong>nppert</strong>  gives the number of processors among which the work load over the
perturbation level is shared. It can even be specified separately for each dataset.</p>
<h2 id="npspinor"><strong>npspinor</strong><a class="headerlink" href="#npspinor" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the SPINOR level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> == 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [3/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
GaAs with PAW and spin-orbit coupling. 2x2x2 K grid; low cut-off for test
Test paral_kgb==1 with MPI-FFT/spinor parallelization, the IO of the WFK file,
the output of potential files and the calculation of PJDOS in parallel
(PW term + on-site contributions)" data-toggle="popover" href="/tests/mpiio/Input/t28.abi" target="_blank">t28.abi</a></li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
Test the parallelization over spinorial components of WF
Bi A7 structure (2 atoms, treated as semi-conductor),
using PAW, within LDA and spin-orbit coupling.
- with zero magnetization      (nspden=1, nspinor=2)
- with non-collinear magnetism (nspden=4, nspinor=2)" data-toggle="popover" href="/tests/paral/Input/t28.abi" target="_blank">t28.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
GaAs with NC and spin-orbit coupling.
Test RMM-DIIS eigensolver with paral_kgb == 1 and band-spinor MPI parallelization." data-toggle="popover" href="/tests/paral/Input/t32.abi" target="_blank">t32.abi</a></li>
</ul>
</details>
<p>Can be 1 or 2 (if <a class="wikilink codevar-wikilink" href="/variables/gstate#nspinor">nspinor</a> = 2).
Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a>
input variable).
 <strong>npspinor</strong>  gives the number of processors among which the work load over the
spinorial components of wave-functions is shared.  <strong>npspinor</strong> , <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>,
<a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a> are combined to give the total number of processors
(nproc) working on the band/FFT/k-point parallelisation.
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink codevar-wikilink" href="/variables/paral#autoparal">autoparal</a> input keyword.</p>
<p>See <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, and <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</p>
<h2 id="paral_atom"><strong>paral_atom</strong><a class="headerlink" href="#paral_atom" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> activate PARALelization over (paw) ATOMic sites<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [17/1245] in all abinit tests, [1/159] in abinit tutorials</summary><ul>
<li>libxc:  <a class="wikilink abifile-wikilink" data-tippy-content="Test of HSE06 in PAW" data-toggle="popover" href="/tests/libxc/Input/t53.abi" target="_blank">t53.abi</a></li>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
This test check the parallelization over atomic sites both for the ground state
and response function features (within PAW formalism), together with
parallelization over perturbations.
Computation of phonons and response to electric field within PAW (both q=0 and q/=0)
Test on AlAs structure inspired by v6/t62.
Ground state, DDK, effective charges and dielectric tensor are computed.
Phonon modes at q=0 are computed.
Phonon modes at q=(1/4,0,0) and q=(-1/4,1/2/1/4) are computed.
Note: Charge neutrality is not achieved with the present dataset,
but can be easily reached by increasing some parameters; for instance:
(ngkpt 8 8 8, ecut 15., pawecutdg 30.) gives Z(Al)=2.1184310, Z(As)=-2.1184804" data-toggle="popover" href="/tests/mpiio/Input/t62.abi" target="_blank">t62.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
This test check the parallelization over atomic sites both for the ground state
and response function features (within PAW formalism), together with
parallelization over perturbations.
Computation of phonons and response to electric field within PAW (both q=0 and q/=0)
Test on AlAs structure inspired by v6/t62.
Ground state, DDK, effective charges and dielectric tensor are computed.
Phonon modes at q=0 are computed.
Phonon modes at q=(1/4,0,0) and q=(-1/4,1/2/1/4) are computed.
Note: Charge neutrality is not achieved with the present dataset,
but can be easily reached by increasing some parameters; for instance:
(ngkpt 8 8 8, ecut 15., pawecutdg 30.) gives Z(Al)=2.1184310, Z(As)=-2.1184804" data-toggle="popover" href="/tests/mpiio/Input/t62.abi" target="_blank">t62.abi</a></li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
PAW Berrys Phase calculation of Born effective charge in AlAs by
finite electric fields (contributed by J. Zwanziger, adapted from efield
tutorial). The need to have the number of points a multiple of the number of processor is not convenient ..." data-toggle="popover" href="/tests/paral/Input/t07.abi" target="_blank">t07.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
PAW Berrys Phase calculation of Born effective charge in AlAs by
finite electric fields (contributed by J. Zwanziger, adapted from efield
tutorial). The need to have the number of points a multiple of the number of processor is not convenient ..." data-toggle="popover" href="/tests/paral/Input/t07.abi" target="_blank">t07.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
PAW Berrys Phase calculation of Born effective charge in AlAs by
finite electric fields (contributed by J. Zwanziger, adapted from efield
tutorial). The need to have the number of points a multiple of the number of processor is not convenient ..." data-toggle="popover" href="/tests/paral/Input/t07.abi" target="_blank">t07.abi</a></li>
<li>tutorial:  <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutorial/Input/tnuc_4.abi" target="_blank">tnuc_4.abi</a></li>
<li>v10:  <a class="wikilink abifile-wikilink" data-tippy-content="Calculate chemical shielding in solid AlP, with symmetries" data-toggle="popover" href="/tests/v10/Input/t40.abi" target="_blank">t40.abi</a></li>
<li>v5:  <a class="wikilink abifile-wikilink" data-tippy-content="
PAW: test of some variables reserved to experienced users or developers
BCC iron, ferromagnetic, GGA, PAW. Also tests maxnsym keyword." data-toggle="popover" href="/tests/v5/Input/t06.abi" target="_blank">t06.abi</a></li>
<li>v7:  <a class="wikilink abifile-wikilink" data-tippy-content="Test presence of nuclear magnetic dipole moments on atomic sites" data-toggle="popover" href="/tests/v7/Input/t32.abi" target="_blank">t32.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Test of HF in PAW" data-toggle="popover" href="/tests/v7/Input/t70.abi" target="_blank">t70.abi</a></li>
<li>v9:  <a class="wikilink abifile-wikilink" data-tippy-content="Calculate chemical shielding for isolated neon atom" data-toggle="popover" href="/tests/v9/Input/t44.abi" target="_blank">t44.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Calculate chemical shielding in solid AlP" data-toggle="popover" href="/tests/v9/Input/t140.abi" target="_blank">t140.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Orbital magnetism with nspinor 2" data-toggle="popover" href="/tests/v9/Input/t141.abi" target="_blank">t141.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Orbital magnetism with nsppol 2" data-toggle="popover" href="/tests/v9/Input/t142.abi" target="_blank">t142.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Orbital magnetism in metallic sodium" data-toggle="popover" href="/tests/v9/Input/t143.abi" target="_blank">t143.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Calculate chemical shielding in solid AlP with discretized wavefunctions" data-toggle="popover" href="/tests/v9/Input/t144.abi" target="_blank">t144.abi</a></li>
</ul>
</details>
<p>Relevant only for PAW calculations.
This keyword controls the parallel distribution of memory over atomic sites.
Calculations are also distributed using the &ldquo;kpt-band&rdquo; communicator.
Compatible with ground-state calculations and response function calculations.</p>
<p>This parallelization concerns only a small part of the whole calculation in the sequential case.
When using parallelism, it might be that this small part becomes predominant if  <strong>paral_atom</strong>  is not activated.</p>
<h2 id="paral_kgb"><strong>paral_kgb</strong><a class="headerlink" href="#paral_kgb" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> activate PARALelization over K-point, G-vectors and Bands<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Moderately used, [187/1245] in all abinit tests, [15/159] in abinit tutorials</summary><ul>
<li>gpu:  <a class="wikilink abifile-wikilink" data-tippy-content="
hcp iron - non magnetic - 2 atoms (metal)
Test the use of GPU within Norm-Conserving PseupoPotential formalism.
Test multidataset mode with different gpu_option values.
paral_kgb is activated." data-toggle="popover" href="/tests/gpu/Input/t02.abi" target="_blank">t02.abi</a> &hellip;</li>
<li>gpu_kokkos:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Also test gemm_nonlop" data-toggle="popover" href="/tests/gpu_kokkos/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/gpu_kokkos/Input/t02.abi" target="_blank">t02.abi</a> &hellip;</li>
<li>gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==1, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t03.abi" target="_blank">t03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Chebyshev, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==2, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
LOBPCG, C-diamond, Bulk, 2 atoms, paral_kgb, mono-GPU, istwfk==1, with PAW." data-toggle="popover" href="/tests/gpu_omp/Input/t05.abi" target="_blank">t05.abi</a> &hellip;</li>
<li>hpc_gpu_omp:  <a class="wikilink abifile-wikilink" data-tippy-content="Uranim oxide (UO2) - 54 atoms (GGA) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t02.abi" target="_blank">t02.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="31 gold atoms (one vacancy) - HPC test" data-toggle="popover" href="/tests/hpc_gpu_omp/Input/t03.abi" target="_blank">t03.abi</a> &hellip;</li>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut. Test localrdwf=1" data-toggle="popover" href="/tests/mpiio/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut. Test localrdwf=1" data-toggle="popover" href="/tests/mpiio/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut. Test localrdwf=1" data-toggle="popover" href="/tests/mpiio/Input/t01.abi" target="_blank">t01.abi</a> &hellip;</li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut." data-toggle="popover" href="/tests/paral/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut." data-toggle="popover" href="/tests/paral/Input/t01.abi" target="_blank">t01.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Si in diamond structure; 60 special points in core; low ecut." data-toggle="popover" href="/tests/paral/Input/t01.abi" target="_blank">t01.abi</a> &hellip;</li>
<li>tutoparal:  <a class="wikilink abifile-wikilink" data-tippy-content="BaTiO3 linear response calculation" data-toggle="popover" href="/tests/tutoparal/Input/tdfpt_03.abi" target="_blank">tdfpt_03.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Gold with one vacancy (107 atoms of gold)." data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_01.abi" target="_blank">tparal_bandpw_01.abi</a>, <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutoparal/Input/tparal_bandpw_02.abi" target="_blank">tparal_bandpw_02.abi</a> &hellip;</li>
<li>tutorial:  <a class="wikilink abifile-wikilink" data-toggle="popover" href="/tests/tutorial/Input/tnuc_4.abi" target="_blank">tnuc_4.abi</a> &hellip;</li>
<li>v10:  <a class="wikilink abifile-wikilink" data-tippy-content="Calculate chemical shielding in solid AlP, with symmetries" data-toggle="popover" href="/tests/v10/Input/t40.abi" target="_blank">t40.abi</a> &hellip;</li>
<li>v5:  <a class="wikilink abifile-wikilink" data-tippy-content="
Test for an electron gas by recursion method (Vtrial is set to zero)
Corresponding variable: rectesteg
Corresponding code: 68_recursion
Other test: paral/tT,v5/t76" data-toggle="popover" href="/tests/v5/Input/t76.abi" target="_blank">t76.abi</a> &hellip;</li>
<li>v67mbpt:  <a class="wikilink abifile-wikilink" data-tippy-content="
Molecular SiH4 in GWLS (G0W0 with Lanczos basis and Sternheimer equations)" data-toggle="popover" href="/tests/v67mbpt/Input/t15.abi" target="_blank">t15.abi</a> &hellip;</li>
<li>v7:  <a class="wikilink abifile-wikilink" data-tippy-content="
Calculation of Projected Wannier functions and compute band structure
in the d orbital Wannier basis" data-toggle="popover" href="/tests/v7/Input/t76.abi" target="_blank">t76.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Calculation of Projected Wannier functions and compute
a simplified interpolated band structure" data-toggle="popover" href="/tests/v7/Input/t77.abi" target="_blank">t77.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="For SrVO3, compute cRPA screened interaction U in the d-dp(b) model" data-toggle="popover" href="/tests/v7/Input/t78.abi" target="_blank">t78.abi</a> &hellip;</li>
<li>v9:  <a class="wikilink abifile-wikilink" data-tippy-content="GS calculation with the CG + RMM-DIIS eigensolver and NC pseudos" data-toggle="popover" href="/tests/v9/Input/t29.abi" target="_blank">t29.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
GaAs, zinc-blende structure.
GS calculation with the CG + RMM-DIIS eigensolver and PAW GGA-PBE pseudos." data-toggle="popover" href="/tests/v9/Input/t30.abi" target="_blank">t30.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="Calculate chemical shielding for isolated neon atom" data-toggle="popover" href="/tests/v9/Input/t44.abi" target="_blank">t44.abi</a> &hellip;</li>
<li>wannier90:  <a class="wikilink abifile-wikilink" data-tippy-content="
Wannier function for bcc Fe.
To check whether wannier90 interface works properly with nsppol=2 and nspden=2.
Small accuracy parameters, small k-mesh and large test tolerance are used." data-toggle="popover" href="/tests/wannier90/Input/t04.abi" target="_blank">t04.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
Wannier function for bcc Fe.
To check whether wannier90 interface works properly with nspinor=2  and nspden=4
Small accuracy parameters, small k-mesh and large test tolerance are used." data-toggle="popover" href="/tests/wannier90/Input/t05.abi" target="_blank">t05.abi</a> &hellip;</li>
</ul>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that this variable is only used when running <strong>ground-state calculations</strong> in parallel with MPI (<a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a>=1) (or GW Lanczos-Sternheimer <a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a>=66, but this is very rare).
Other <a class="wikilink codevar-wikilink" href="/variables/gstate#optdriver">optdriver</a> runlevels implement different MPI algorithms that rely on other input variables that are
not automatically set by <a class="wikilink codevar-wikilink" href="/variables/paral#autoparal">autoparal</a>. For example, consult the <a class="wikilink lesson-wikilink" href="/tutorial/paral_mbt">tutorial on parallelism for Many-Body Perturbation Theory</a> to learn how
to run beyond-GS calculations with MPI. Other tutorials on parallelism are also available.</p>
</div>
<p><strong>If paral_kgb is not explicitely put in the input file</strong>, ABINIT
automatically detects if the job has been sent in sequential or in parallel.
In this last case, it detects the number of processors on which the job has
been sent and calculates values of <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>,
<a class="wikilink codevar-wikilink" href="/variables/paral#bandpp">bandpp</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npimage">npimage</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> that are compatible with the number
of processors. It then set <strong>paral_kgb</strong> to 0 or 1 (see hereunder) and launches the job.</p>
<p><strong>If paral_kgb = 0</strong>, the parallelization over k-points only is activated. In
this case, <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a> and <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> are ignored.
Require compilation option &ndash;enable-mpi=&rdquo;yes&rdquo;.</p>
<p><strong>If paral_kgb = 1</strong>, the parallelization over bands, FFTs, and k-point/spin-
components is activated (see <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a> <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> and possibly
<a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>). With this parallelization, the work load is split over four
levels of parallelization (three level of parallelisation (kpt-band-fft )+
spin). The different communications almost occur along one dimension only.
Require compilation option &ndash;enable-mpi=&rdquo;yes&rdquo;.</p>
<p>HOWTO fix the number of processors along one level of parallelisation:
At first, try to parallelise over the k point and spin (see
<a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>,<a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>). Otherwise, for unpolarized calculation at the gamma
point, parallelise over the two other levels: the band and FFT ones. For nproc <span><span class="MathJax_Preview">\leq</span><script type="math/tex">\leq</script></span> 50, the best speed-up is achieved for <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> = nproc and <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a> = 1
(which is not yet the default). For nproc <span><span class="MathJax_Preview">\geq</span><script type="math/tex">\geq</script></span> 50, the best speed-up is achieved
for <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a> <span><span class="MathJax_Preview">\geq</span><script type="math/tex">\geq</script></span> 4 <span><span class="MathJax_Preview">\times</span><script type="math/tex">\times</script></span> <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>.</p>
<p>For additional information, download F. Bottin presentation at the
<a href="https://www.abinit.org/sites/default/files/oldsites/workshop_07/program.html">ABINIT workshop 2007</a></p>
<p>Suggested acknowledgments:
<a class="wikilink citation-wikilink" data-tippy-content="Large-scale ab initio calculations based on three levels of parallelization" data-toggle="popover" href="/theory/bibliography#bottin2008">[Bottin2008]</a>, also available on arXiv, http://arxiv.org/abs/0707.3405.</p>
<p>If the total number of processors used is compatible with the four levels of
parallelization, the values for <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>
and <a class="wikilink codevar-wikilink" href="/variables/paral#bandpp">bandpp</a> will be filled automatically, although the repartition may not
be optimal. To optimize the repartition use:</p>
<p><strong>If paral_kgb = 1</strong> and <strong>max_ncpus = n <span><span class="MathJax_Preview">\ne</span><script type="math/tex">\ne</script></span> 0</strong> ABINIT will test automatically
if all the processor numbers between 2 and n are convenient for a parallel
calculation and print the possible values in the log file. A weight is
attributed to each possible processors repartition. It is adviced to select a
processor repartition for which the weight is high (as closed to the number of
processors as possible). The code will then stop after the printing. This test
can be done as well with a sequential as with a parallel version of the code.
The user can then choose the adequate number of processor on which he can run
his job. He must put again paral_kgb = 1 in the input file and put the
corresponding values for <a class="wikilink codevar-wikilink" href="/variables/paral#np_spkpt">np_spkpt</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npfft">npfft</a>, <a class="wikilink codevar-wikilink" href="/variables/paral#npband">npband</a>,<a class="wikilink codevar-wikilink" href="/variables/paral#bandpp">bandpp</a> and
possibly <a class="wikilink codevar-wikilink" href="/variables/paral#npspinor">npspinor</a> in the input file.</p>
<h2 id="paral_rf"><strong>paral_rf</strong><a class="headerlink" href="#paral_rf" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Activate PARALlelization over Response Function perturbations<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [4/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
This test check the parallelization over atomic sites both for the ground state
and response function features (within PAW formalism), together with
parallelization over perturbations.
Computation of phonons and response to electric field within PAW (both q=0 and q/=0)
Test on AlAs structure inspired by v6/t62.
Ground state, DDK, effective charges and dielectric tensor are computed.
Phonon modes at q=0 are computed.
Phonon modes at q=(1/4,0,0) and q=(-1/4,1/2/1/4) are computed.
Note: Charge neutrality is not achieved with the present dataset,
but can be easily reached by increasing some parameters; for instance:
(ngkpt 8 8 8, ecut 15., pawecutdg 30.) gives Z(Al)=2.1184310, Z(As)=-2.1184804" data-toggle="popover" href="/tests/mpiio/Input/t62.abi" target="_blank">t62.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
This test check the parallelization over atomic sites both for the ground state
and response function features (within PAW formalism), together with
parallelization over perturbations.
Computation of phonons and response to electric field within PAW (both q=0 and q/=0)
Test on AlAs structure inspired by v6/t62.
Ground state, DDK, effective charges and dielectric tensor are computed.
Phonon modes at q=0 are computed.
Phonon modes at q=(1/4,0,0) and q=(-1/4,1/2/1/4) are computed.
Note: Charge neutrality is not achieved with the present dataset,
but can be easily reached by increasing some parameters; for instance:
(ngkpt 8 8 8, ecut 15., pawecutdg 30.) gives Z(Al)=2.1184310, Z(As)=-2.1184804" data-toggle="popover" href="/tests/mpiio/Input/t62.abi" target="_blank">t62.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="GaAs linear response with NC. Test the parallelisation on perturbations" data-toggle="popover" href="/tests/mpiio/Input/t69.abi" target="_blank">t69.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="GaAs linear response with NC. Test the parallelisation on perturbations" data-toggle="popover" href="/tests/mpiio/Input/t69.abi" target="_blank">t69.abi</a></li>
</ul>
</details>
<p>This parameter activates the parallelization over perturbations which can be
used during RF-Calculation. It is possible to use this type of parallelization
in combination to the parallelization over k-points.</p>
<p>Currently total energies calculated by groups, where the master process is not
in, are saved in.status_LOGxxxx files.</p>
<p>If <strong>paral_rf</strong> is set to -1, the code reports the list of irreducible
perturbations for the specified q-point in the log file (YAML format) and then stops.</p>
<p><strong>paral_rf</strong> can be specified separately for each dataset.</p>
<h2 id="pw_unbal_thresh"><strong>pw_unbal_thresh</strong><a class="headerlink" href="#pw_unbal_thresh" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Plane Wave UNBALancing: THRESHold for balancing procedure<br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> real<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 40%<br />
<em>Only relevant if:</em> <a class="wikilink codevar-wikilink" href="/variables/paral#paral_kgb">paral_kgb</a> == 1<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [1/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, with PAW.
Test the IO routines with paral_kgb in [1, 0] and different combinations
of parameters (npfft, npband, np_spkpt).
Test the plane wave load balancing procedure (pw_unbal_thresh).
Test also the computation of PJDOS." data-toggle="popover" href="/tests/mpiio/Input/t26.abi" target="_blank">t26.abi</a></li>
</ul>
</details>
<p>This parameter (in %) activates a load balancing procedure when the
distribution of plane wave components over MPI processes is not optimal. The
balancing procedure is activated when the ratio between the number of plane
waves treated by a processor and the ideal one is higher than
<em>pw_unbal_thresh</em> %.</p>
<h2 id="use_slk"><strong>use_slk</strong><a class="headerlink" href="#use_slk" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> USE ScaLapacK<br />
<em>Characteristics:</em> <a class="wikilink" href="/guide/abinit#parameters">DEVELOP</a><br />
<em>Mentioned in topic(s):</em> <a class="wikilink topic-wikilink" data-tippy-content="How to set parameters for a parallel calculation" data-toggle="popover" href="/topics/parallelism">topic_parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
<em>Added in version:</em> before_v9  </p>
<details class="note"><summary>Test list (click to open). Rarely used, [4/1245] in all abinit tests, [0/159] in abinit tutorials</summary><ul>
<li>mpiio:  <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, with NC pseudo generated with oncvps-3.2.3.
Test the IO routines with paral_kgb in [1, 0] and different combinations
of parameters (npfft, npband, np_spkpt).
Test also prtdos (PJDOS) in parallel with MPI-FFT.
Similar to t26.in" data-toggle="popover" href="/tests/mpiio/Input/t27.abi" target="_blank">t27.abi</a></li>
<li>paral:  <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over FFT and kpoints:
npband*npfft*np_spkpt=1*2*2=4 processors.
In test tY.in we check other distributions for guarantee." data-toggle="popover" href="/tests/paral/Input/t24.abi" target="_blank">t24.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test the triple parallelisation.
We cannot check the distribution npband*npfft*np_spkpt=2*2*2=8 processors,
this number being not allowed in the test procedure.
Here, we only test the parallelisation over bands and spins:
npband*npfft*np_spkpt=2*1*2=4 processors.
In addition, we also test here various features of bandfft-kpt parallelisation
In particular, the bandpp, istwfk=2 and wfoptalg=14 variables." data-toggle="popover" href="/tests/paral/Input/t25.abi" target="_blank">t25.abi</a>, <a class="wikilink abifile-wikilink" data-tippy-content="
C-diamond, Bulk, 2 atoms, paral_kgb, with PAW.
Test MPI-FFT with 2 processors, istwfk=2 and bandpp 2" data-toggle="popover" href="/tests/paral/Input/t29.abi" target="_blank">t29.abi</a></li>
</ul>
</details>
<p>If set to 1, enable the use of ScaLapack within LOBPCG.</p>
                
                  
                
              

<!--
Add dropdown button with toolbar (based on https://bootsnipp.com/snippets/featured/inbox-by-gmail)
and return to Top button (based on https://codepen.io/rdallaire/pen/apoyx)
-->
<div class="md-container">
  <div class="row">
    <div id="inbox">
      <div class="fab btn-group show-on-hover dropup">
        <div data-toggle="tooltip" data-placement="left" title="Menu" style="margin-left: 42px;">
          <button id="return-to-top" type="button" class="btn btn-primary btn-io dropdown-toggle" data-toggle="dropdown">
            <span class="fa-stack fa-2x">
               <i class="fa fa-circle fa-stack-2x fab-backdrop"></i>
               <i class="fa fa-chevron-up fa-stack-1x fa-inverse fab-primary"></i>
               <i class="fa fa-map-signs fa-stack-1x fa-inverse fab-secondary"></i>
            </span>
          </button>
        </div>
        <ul class="dropdown-menu dropdown-menu-right" role="menu">
        
        
          <li>
            <a href="https://docs.abinit.org/about/release-notes/"
               data-toggle="popover" data-tippy-content="About">
               <i class="fa fa-info-circle"></i>
            </a>
          </li>
        
          <li>
            <a href="https://docs.abinit.org/developers/git_and_gitlab/"
               data-toggle="popover" data-tippy-content="Developers">
               <i class="fa fa-terminal"></i>
            </a>
          </li>
        
          <li>
            <a href="https://docs.abinit.org/theory/geometry/"
               data-toggle="popover" data-tippy-content="Theory">
               <i class="fa fa-book"></i>
            </a>
          </li>
        
          <li>
            <a href="https://docs.abinit.org/faq/configuration_and_compilation/"
               data-toggle="popover" data-tippy-content="FAQ">
               <i class="fa fa-graduation-cap"></i>
            </a>
          </li>
        
          <li>
            <a href="https://docs.abinit.org/tutorial/"
               data-toggle="popover" data-tippy-content="Tutorials">
               <i class="fa fa-file-text-o"></i>
            </a>
          </li>
        
          <li>
            <a href="https://docs.abinit.org/variables/"
               data-toggle="popover" data-tippy-content="Variables">
               <i class="fa fa-question"></i>
            </a>
          </li>
        
          <li>
            <a href="https://docs.abinit.org/topics/features/"
               data-toggle="popover" data-tippy-content="Topics">
               <i class="fa fa-user-circle-o"></i>
            </a>
          </li>
        
          <li>
            <a href="https://docs.abinit.org/"
               data-toggle="popover" data-tippy-content="User Guides">
               <i class="fa "></i>
            </a>
          </li>
        
        </ul>
      </div>
    </div>
  </div>
</div>

              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../internal/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Internal
            </div>
          </div>
        </a>
      
      
        <a href="../paw/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              PAW
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
            <center>Abinit version b'10.2.3-dirty'</center>
        
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020-2024 The Abinit Group
            
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/abinit/abinit" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.youtube.com/watch?v=gcbfb_Mteo4" target="_blank" rel="noopener" title="www.youtube.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="http://www.facebook.com/abinit.org" target="_blank" rel="noopener" title="www.facebook.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/hashtag/abinit" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "header.autohide"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fb4a9340.min.js", "version": "b'10.2.3-dirty'"}</script>
    
    
      <script src="../../assets/javascripts/bundle.a1c7c35e.min.js"></script>
      
        <script src="../../extra_javascript/abidocs.js"></script>
      
    
  </body>
</html>